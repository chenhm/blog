<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, user-scalable=no">
    <meta name="renderer" content="webkit">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="/manifest.json">
    <link href="/static/asciidoctor.min.css" rel="stylesheet"/>
    <link href="/static/build.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css" integrity="sha256-77qGXu2p8NpfcBpTjw4jsMeQnz0vyh74f5do0cWjQ/Q=" crossorigin="anonymous" />
</head>
<body>
<div id='app'>
    <header class="header">
        <div class="container">
            <!--start: Navigation -->
            <a href="/" class="brand">On the Road</a>
<!--            <ul class="nav">-->
<!--                <li><a href="/list/">Blogs</a></li>-->
<!--                <li><a href="/slides/">Slides</a></li>-->
<!--                <li><a href="/about/">About</a></li>-->
<!--            </ul>-->
        </div>
        <!--end: Navigation -->
        <div style="clear: both"></div>
        <search-bar v-if="isPageList"></search-bar>
    </header>

<section class="post-view">
    <article>
     
         <h1 class="post-title">             LISP的七个原子操作         </h1>
     
     <p>看SICP时总是记不住这些，干脆写在这做个参考，主要是从<a href="http://daiyuwen.freeshell.org/gb/rol/roots_of_lisp.html">Lisp之根源</a>抄的。</p>
<p>我们将 定义七个原始(从公理的意义上说)操作符: quote,atom,eq,car,cdr,cons,和 cond. (quote x) 返回x.为了可读性我们把(quote x)简记 为'x.</p>
<pre><code class="language-scheme">&gt; (quote a)
a
&gt; 'a
a
&gt; (quote (a b c))
(a b c)
</code></pre>
<p>(atom x)返回原子t如果x的值是一个原子或是空表,否则返回(). 在Lisp中我们 按惯例用原子t表示真, 而用空表表示假.</p>
<pre><code class="language-scheme">&gt; (atom 'a)
t
&gt; (atom '(a b c))
()
&gt; (atom '())
t
</code></pre>
<p>既然有了一个自变量需要求值的操作符, 我们可以看一下quote的作用. 通过引 用(quote)一个表,我们避免它被求值. 一个未被引用的表作为自变量传给象 atom这样的操作符将被视为代码:</p>
<pre><code class="language-scheme">&gt; (atom (atom 'a))
t
</code></pre>
<p>反之一个被引用的表仅被视为表, 在此例中就是有两个元素的表:</p>
<pre><code class="language-scheme">&gt; (atom '(atom 'a))
()
</code></pre>
<p>这与我们在英语中使用引号的方式一致. Cambridge(剑桥)是一个位于麻萨诸塞 州有90000人口的城镇. 而``Cambridge''是一个由9个字母组成的单词. 引用看上去可能有点奇怪因为极少有其它语言有类似的概念. 它和Lisp最与众 不同的特征紧密联系:代码和数据由相同的数据结构构成, 而我们用quote操作符 来区分它们. (eq x y)返回t如果x和y的值是同一个原子或都是空表, 否则返回().</p>
<pre><code class="language-scheme">&gt; (eq 'a 'a)
t
&gt; (eq 'a 'b)
()
&gt; (eq '() '())
t
</code></pre>
<p>(car x)期望x的值是一个表并且返回x的第一个元素. 表示‘Contents of Address part of Register’ (寄存器的地址部分的内容) 名字car和cdr来自Lisp最初在IBM 704机器上的实现。在这种机器有一种取址模式，使人可以访问一个存储地址中的“地址（address）”部分和“减量（decrement）”部分。</p>
<pre><code class="language-scheme">&gt; (car '(a b c))
a
</code></pre>
<p>(cdr x)期望x的值是一个表并且返回x的第一个元素之后的所有元素. 读作'could-er',表示'Contents of Decrement part of Register' (寄存器的减量部分的内容) &gt; (cdr '(a b c)) (b c) (cons x y)期望y的值是一个表并且返回一个新表,它的第一个元素是x的值, 后 面跟着y的值的各个元素. 表示“构造（construct）”。</p>
<pre><code class="language-scheme">&gt; (cons 'a '(b c))
(a b c)
&gt; (cons 'a (cons 'b (cons 'c '())))
(a b c)
&gt; (car (cons 'a '(b c)))
a
&gt; (cdr (cons 'a '(b c)))
(b c)
</code></pre>
<p>(cond (p1...e1) ...(pn...en)) 的求值规则如下. p表达式依次求值直到有一个 返回t. 如果能找到这样的p表达式,相应的e表达式的值作为整个cond表达式的 返回值.</p>
<pre><code class="language-scheme">&gt; (cond ((eq 'a 'b) 'first)
((atom 'a) 'second))
second
</code></pre>
<p>当表达式以七个原始操作符中的atom,eq,car,cdr,cons开头时,它的自变量总是要求值的.我们称这样 的操作符为函数. 另外两个操作符quote和cond开头的表达式以不同的方式求值. 当 quote表达式求值时, 它的自变量不被求值,而是作为整个表达式的值返回. 在 一个正确的cond表达式中, 只有L形路径上的子表达式会被求值.</p>

    </article>
    <section class="comment">
        <div id="disqus_thread"></div>
    </section>
</section>
<footer class="footer">
    Copyright © 2020 | Powered by <a href="https://github.com/chenhm/java-static-blog" target="_blank">java-static-blog</a>
</footer>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js" integrity="sha256-Y+Budm2wBEjYjbH0qcJRmLuRBFpXd0VKxl6XhdS4hgA=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-ht8ay6ZTPZfuixYB99I5oRpCLsCq7Do2LjEYLwbe+X8=" crossorigin="anonymous"></script>
</body>
</html>