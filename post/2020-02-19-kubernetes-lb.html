<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>Kubernetes 负载均衡机制</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, user-scalable=no"/>
    <meta name="renderer" content="webkit"/>
    <meta name="theme-color" content="#ffffff"/>
    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" type="image/png" href="/static/icon.png"/>
    <link href="../static/asciidoctor.min.css" rel="stylesheet"/>
    <link href="../static/build.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css" integrity="sha256-77qGXu2p8NpfcBpTjw4jsMeQnz0vyh74f5do0cWjQ/Q=" crossorigin="anonymous" />
</head>
<body>
<div id='app'>
    <header class="header">
        <div class="container">
            <!--start: Navigation -->
            <a href=".." class="brand">On the Road</a>
<!--            <ul class="nav">-->
<!--                <li><a href="/list/">Blogs</a></li>-->
<!--                <li><a href="/slides/">Slides</a></li>-->
<!--                <li><a href="/about/">About</a></li>-->
<!--            </ul>-->
        </div>
        <!--end: Navigation -->
        <div style="clear: both"></div>
        <search-bar v-if="isPageList"></search-bar>
    </header>

<section class="post-view">
    <article>
     
     <h1>Kubernetes 负载均衡机制</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_cni_工作机制">1. CNI 工作机制</a></li>
<li><a href="#_service">2. Service</a>
<ul class="sectlevel2">
<li><a href="#_kube_proxy">2.1. kube-proxy</a></li>
<li><a href="#_load_balancer">2.2. Load balancer</a></li>
</ul>
</li>
<li><a href="#_ingress_controller">3. Ingress controller</a></li>
<li><a href="#_参考">参考</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://chenhm.com">Chen Hongming</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cni_工作机制">1. CNI 工作机制</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kubernetes 在多个网络层面提供了负载均衡能力，但在讲负载均衡之前，我们先看下Kubernetes的网络是如何建立的。由于网络实现的复杂性，
<a href="https://github.com/containernetworking/cni/blob/master/SPEC.md">CNI规范</a>其实是个非常开放的标准，它主要定义了网络插件的输入输出行为，比如都是可执行文件，从环境变量读取标准参数，从stdin读取json格式的网络参数，并将执行结果返回到stdout。CNI的行为主要有两种类型：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>网络配置，例如建立网桥、设置路由等等，支持 <code>ADD</code>, <code>DEL</code>, <code>CHECK</code>, <code>VERSION</code> 等操作</p>
</li>
<li>
<p>IPAM(IP Address Management) IP地址分配</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="https://github.com/containernetworking/plugins">官方插件</a>目前分成三类：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>main: 创建网络接口</p>
<div class="ulist">
<ul>
<li>
<p>loopback: 创建lo网卡</p>
</li>
<li>
<p>bridge: 将容器连到虚拟交换机上，类似docker的默认的bridge</p>
</li>
<li>
<p>macvlan: 使用 macvlan 技术，从某个物理网卡虚拟出多个虚拟网卡，它们有独立的 ip 和 mac 地址</p>
</li>
<li>
<p>ipvlan: 和 macvlan 类似，区别是虚拟网卡有着相同的 mac 地址</p>
</li>
<li>
<p>ptp: 通过 veth pair 在容器和主机之间建立通道</p>
</li>
</ul>
</div>
</li>
<li>
<p>ipam: 分配 IP 地址</p>
<div class="ulist">
<ul>
<li>
<p>host-local: 基于本地文件的 ip 分配和管理，把分配的 ip 地址保存在文件中</p>
</li>
<li>
<p>dhcp: 从已经运行的 DHCP 服务器中获取 ip 地址</p>
</li>
</ul>
</div>
</li>
<li>
<p>meta: 其他插件</p>
<div class="ulist">
<ul>
<li>
<p>flannel: 使用flannel配置信息创建bridge</p>
</li>
<li>
<p>portmap: 利用iptables将host流量转发到container</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>一个典型的网络创建过程如下:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iMjAxcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1NTZweDtoZWlnaHQ6MjAxcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NTYgMjAxIiB3aWR0aD0iNTU2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbdGV4dHtmb250LWZhbWlseTpLYWlHZW4gR290aGljIENOLE1pY3Jvc29mdCBZYUhlaSxBcmlhbCxzYW5zLXNlcmlmfV1dPjwvc3R5bGU+PGRlZnM+PGZpbHRlciBoZWlnaHQ9IjMwMCUiIGlkPSJmZHV2YjJrc2YzeDE1IiB3aWR0aD0iMzAwJSIgeD0iLTEiIHk9Ii0xIj48ZmVHYXVzc2lhbkJsdXIgcmVzdWx0PSJibHVyT3V0IiBzdGREZXZpYXRpb249IjIuMCIvPjxmZUNvbG9yTWF0cml4IGluPSJibHVyT3V0IiByZXN1bHQ9ImJsdXJPdXQyIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgLjQgMCIvPjxmZU9mZnNldCBkeD0iNC4wIiBkeT0iNC4wIiBpbj0iYmx1ck91dDIiIHJlc3VsdD0iYmx1ck91dDMiLz48ZmVCbGVuZCBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJibHVyT3V0MyIgbW9kZT0ibm9ybWFsIi8+PC9maWx0ZXI+PC9kZWZzPjxnPjxsaW5lIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA1LjAsNS4wOyIgeDE9IjQzIiB4Mj0iNDMiIHkxPSIzOC4yOTY5IiB5Mj0iMTYwLjgyODEiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNS4wLDUuMDsiIHgxPSIxOTYuNSIgeDI9IjE5Ni41IiB5MT0iMzguMjk2OSIgeTI9IjE2MC44MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDUuMCw1LjA7IiB4MT0iMzUyIiB4Mj0iMzUyIiB5MT0iMzguMjk2OSIgeTI9IjE2MC44MjgxIi8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDUuMCw1LjA7IiB4MT0iNTEwLjUiIHgyPSI1MTAuNSIgeTE9IjM4LjI5NjkiIHkyPSIxNjAuODI4MSIvPjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmZHV2YjJrc2YzeDE1KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2NyIgeD0iOCIgeT0iMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNTMiIHg9IjE1IiB5PSIyMi45OTUxIj5LdWJlbGV0PC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmZHV2YjJrc2YzeDE1KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI2NyIgeD0iOCIgeT0iMTU5LjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjUzIiB4PSIxNSIgeT0iMTc5LjgyMzIiPkt1YmVsZXQ8L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZkdXZiMmtzZjN4MTUpIiBoZWlnaHQ9IjMwLjI5NjkiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijg4IiB4PSIxNTAuNSIgeT0iMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzQiIHg9IjE1Ny41IiB5PSIyMi45OTUxIj5jb250YWluZXJkPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmZHV2YjJrc2YzeDE1KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4OCIgeD0iMTUwLjUiIHk9IjE1OS44MjgxIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3NCIgeD0iMTU3LjUiIHk9IjE3OS44MjMyIj5jb250YWluZXJkPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmZHV2YjJrc2YzeDE1KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4NSIgeD0iMzA4IiB5PSIzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3MSIgeD0iMzE1IiB5PSIyMi45OTUxIj5DTkkgYnJpZGdlPC90ZXh0PjxyZWN0IGZpbGw9IiNGRUZFQ0UiIGZpbHRlcj0idXJsKCNmZHV2YjJrc2YzeDE1KSIgaGVpZ2h0PSIzMC4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSI4NSIgeD0iMzA4IiB5PSIxNTkuODI4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzEiIHg9IjMxNSIgeT0iMTc5LjgyMzIiPkNOSSBicmlkZ2U8L3RleHQ+PHJlY3QgZmlsbD0iI0ZFRkVDRSIgZmlsdGVyPSJ1cmwoI2ZkdXZiMmtzZjN4MTUpIiBoZWlnaHQ9IjMwLjI5NjkiIHN0eWxlPSJzdHJva2U6ICNBODAwMzY7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9Ijc0IiB4PSI0NzEuNSIgeT0iMyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjAiIHg9IjQ3OC41IiB5PSIyMi45OTUxIj5DTkkgaXBhbTwvdGV4dD48cmVjdCBmaWxsPSIjRkVGRUNFIiBmaWx0ZXI9InVybCgjZmR1dmIya3NmM3gxNSkiIGhlaWdodD0iMzAuMjk2OSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iNzQiIHg9IjQ3MS41IiB5PSIxNTkuODI4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjAiIHg9IjQ3OC41IiB5PSIxNzkuODIzMiI+Q05JIGlwYW08L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSIxODQuNSw4MC41NjI1LDE5NC41LDg0LjU2MjUsMTg0LjUsODguNTYyNSwxODguNSw4NC41NjI1IiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSI0My41IiB4Mj0iMTkwLjUiIHkxPSI4NC41NjI1IiB5Mj0iODQuNTYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTciIHg9IjUwLjUiIHk9IjY0LjM2MzgiPmNyZWF0ZSBwb2QgYW5kPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTI5IiB4PSI1MC41IiB5PSI3OS40OTY2Ij5uZXR3b3JrIG5hbWVzcGFjZTwvdGV4dD48cG9seWdvbiBmaWxsPSIjQTgwMDM2IiBwb2ludHM9IjM0MC41LDEwOS42OTUzLDM1MC41LDExMy42OTUzLDM0MC41LDExNy42OTUzLDM0NC41LDExMy42OTUzIiBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiAjQTgwMDM2OyBzdHJva2Utd2lkdGg6IDEuMDsiIHgxPSIxOTYuNSIgeDI9IjM0Ni41IiB5MT0iMTEzLjY5NTMiIHkyPSIxMTMuNjk1MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTMyIiB4PSIyMDMuNSIgeT0iMTA4LjYyOTQiPmNhbGwgY25pIHRvIGFkZCBicmlkZ2U8L3RleHQ+PHBvbHlnb24gZmlsbD0iI0E4MDAzNiIgcG9pbnRzPSI0OTguNSwxMzguODI4MSw1MDguNSwxNDIuODI4MSw0OTguNSwxNDYuODI4MSw1MDIuNSwxNDIuODI4MSIgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTogI0E4MDAzNjsgc3Ryb2tlLXdpZHRoOiAxLjA7IiB4MT0iMzUyLjUiIHgyPSI1MDQuNSIgeTE9IjE0Mi44MjgxIiB5Mj0iMTQyLjgyODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEzNCIgeD0iMzU5LjUiIHk9IjEzNy43NjIyIj5jYWxsIGlwYW0gdG8gYXNzaWduIGlwPC90ZXh0PjwvZz48L3N2Zz4=" alt=""/>
</div>
</div>
<div class="paragraph">
<p>Pod网络建好之后，CNI插件还会建立跨主机网络，例如flannel会设置L2 overlay和相应的路由。至此，跨主机的pod通讯网络得以建立。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/cni-overlay.png" alt="cni overlay"/>
</div>
<div class="title">Figure 1. from <a href="https://kubernetes.feisky.xyz/extension/network/cni" class="bare">https://kubernetes.feisky.xyz/extension/network/cni</a></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_service">2. Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kubernetes 的网络服务都是以service为基础，它是一组pod ip的抽象，属于3层ip转发。service本身提供了负载均衡能力，主要有 <code>kube-proxy</code> 和 <code>load balancer</code> 两种实现方式。</p>
</div>
<div class="sect2">
<h3 id="_kube_proxy">2.1. kube-proxy</h3>
<div class="paragraph">
<p>kube-proxy类型的service会被分配一个Cluster IP，每台node上的 kube-proxy 进程都会监视符合Selector条件的后端pod状态，通过设置iptables或ipvs将IP包转发到pod ip。如果service type是 <code>NodePort</code>, kube-proxy还会设置规则将主机上的对应端口转发到Cluster IP。目前kube-proxy默认的工作模式是iptables，但iptables只能做unweighted round-robin模式的负载均衡，如果需要在service层做更复杂的均衡算法必须使用ipvs。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDAzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1NTZweDtoZWlnaHQ6NDAzcHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NTYgNDAzIiB3aWR0aD0iNTU2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbdGV4dHtmb250LWZhbWlseTpLYWlHZW4gR290aGljIENOLE1pY3Jvc29mdCBZYUhlaSxBcmlhbCxzYW5zLXNlcmlmfV1dPjwvc3R5bGU+PGRlZnMvPjxnPjwhLS1NRDU9WzJjMGViMDkwZGI4YjIxZTcwOTgzN2I2YTFjNGRjMDM5XQpjbHVzdGVyIE5vZGUtLT48cmVjdCBmaWxsPSIjRjVGMkYwIiBoZWlnaHQ9IjMyMyIgc3R5bGU9InN0cm9rZTogI0NDQ0NDQzsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMzIzIiB4PSIyMiIgeT0iNjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMTYzIiB5PSI4My45OTUxIj5Ob2RlPC90ZXh0PjwhLS1NRDU9WzgzMDU5ZGYzZWQ0NDg4YjBlNTUyZWI5YWEyNmUwMDE1XQpjbHVzdGVyIG5vZGUyLS0+PHJlY3QgZmlsbD0iI0Y1RjJGMCIgaGVpZ2h0PSIzMjMiIHN0eWxlPSJzdHJva2U6ICNDQ0NDQ0M7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjE3NiIgeD0iMzY5IiB5PSI2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQxIiB4PSI0MzYuNSIgeT0iODMuOTk1MSI+Tm9kZTwvdGV4dD48IS0tTUQ1PVtlOTM3NzgzZDE1MWQ3OGM5ZTg3ZmQ0YzBkOTlmNzQ4NV0KZW50aXR5IHByb3h5LS0+PHJlY3QgZmlsbD0iI0RGRjBEOCIgaGVpZ2h0PSI1Mi41OTM4IiBzdHlsZT0ic3Ryb2tlOiAjNDY4ODQ3OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNDMiIHg9IjE4NS41IiB5PSIxMDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc3IiB4PSIyMTguNSIgeT0iMTI2Ljk5NTEiPmt1YmUtcHJveHk8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMjMiIHg9IjE5NS41IiB5PSIxNDMuMjkyIj4oTGlzdGVuIG5vZGUgcG9ydCk8L3RleHQ+PCEtLU1ENT1bNDA3MzY1NDFmZDI0NzdjNWIzMWJlNWY1NDdmYzg5OTRdCmVudGl0eSBwb2QxLS0+PHJlY3QgZmlsbD0iI0RGRjBEOCIgaGVpZ2h0PSIzNi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjNDY4ODQ3OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMjUiIHg9IjQzLjUiIHk9IjM0MCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSI1My41IiB5PSIzNjIuOTk1MSI+QmFja2VuZCBQb2QgMTwvdGV4dD48IS0tTUQ1PVtkMzdhMDdjYWU2M2M2NmQ1NzRjOTlkZDgxYjVhOGZkM10KZW50aXR5IHBvZDItLT48cmVjdCBmaWxsPSIjREZGMEQ4IiBoZWlnaHQ9IjM2LjI5NjkiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEyNSIgeD0iMjAzLjUiIHk9IjM0MCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSIyMTMuNSIgeT0iMzYyLjk5NTEiPkJhY2tlbmQgUG9kIDI8L3RleHQ+PCEtLU1ENT1bMzhiZmE5ZGM2MDE4MzYzY2FmZTE1ZjkyM2E0YjhkYjldCmVudGl0eSBzZXJ2aWNlLS0+PHBhdGggZD0iTTIwMi41Mjk5LDIyNS4yMTI3IEMyMDYuOTQyOCwyMTkuMTgyMyAyMTEuMDg4NCwyMTkuMjMwOSAyMTQuNTg3OCwyMjYuMDY4NiBDMjE2LjkzNSwyMjAuMjMwOSAyMjEuNzAyLDIyMC40NDYxIDIyNS4wMzI1LDIyNS4wODg3IEMyMjcuOTg4MSwyMjAuNDM4IDIzMi43MDM0LDIyMC40NjA5IDIzNS4wNTkzLDIyNS42OTcgQzIzNy41ODIzLDIyMC4wMjg4IDI0Mi44MTYsMjE4LjY5NTYgMjQ2LjUzNDMsMjI0LjUwMTcgQzI0OS40MTQ3LDIyMC4wNDYyIDI1NC4wMDY4LDIxOS42Mzk1IDI1Ny4xNjk2LDIyNC4xNjc0IEMyNjEuNDA4MywyMTguNjU1OCAyNjYuMDM1MiwyMTguODg4NyAyNjkuODQyNCwyMjQuNjUyNCBDMjczLjM3MzksMjIwLjM3NzQgMjc3LjYxNDYsMjIwLjI4MyAyODAuNjc0OCwyMjUuMjA3MyBDMjg0LjI3OTEsMjIwLjA1NDcgMjg3LjcyNCwyMTkuOTYxNyAyOTEuMzg0LDIyNS4xNDk2IEMyOTQuOTI2LDIyMC4wOTczIDI5OC44MTI1LDIyMC43MzQ1IDMwMS4yODY3LDIyNi4xNTg4IEMzMDQuMzEwMiwyMjAuMjA2NCAzMDkuOTExNCwyMjAuODU3MiAzMTMuNDAyNSwyMjUuNjMwNyBDMzIwLjI4NDUsMjI3LjYwOTUgMzIxLjI5OTIsMjMzLjg0NDggMzE2LjgyNSwyMzguNzc5NSBDMzIyLjg1ODIsMjM5LjM3MTggMzI2LjEzMjIsMjQ0LjI1ODcgMzIyLjcwOTgsMjQ5Ljg2ODggQzMyNi4zNTUsMjU1LjEwMDQgMzI1LjA1MDcsMjYwLjc2NTQgMzE3LjcyMDQsMjYxLjEzNzQgQzMyMi4xNDE1LDI2NS44OTQgMzIxLjI1MjcsMjcxLjk5NTMgMzEzLjkzODEsMjczLjAxNDcgQzMxMS4xOTg2LDI3OS4zMjc0IDMwNy42MDcxLDI3OS45Nzk5IDMwMi43Mjk4LDI3NS4xNjg4IEMyOTguNzcxNCwyODEuNzA3OSAyOTQuMjE3NSwyODAuODA4MSAyOTAuMDU4MSwyNzUuMzgxNyBDMjg4LjY1OTYsMjgwLjU3MzIgMjgzLjQzNjIsMjgyLjg0NDQgMjc5LjIwMDIsMjc4LjY3MTkgQzI3Ny4wNjc3LDI4NC4yNTkxIDI3Mi44NTY4LDI4NC4xNDgzIDI2OS40OTczLDI3OS44Nzk5IEMyNjcuMDcyOSwyODYuNzkyNSAyNjIuODY5NCwyODguNDUyMiAyNTcuMzM4OCwyODIuOTEyOCBDMjUzLjA3MTksMjg2LjQ2NSAyNDkuOTgzNCwyODUuODMwMiAyNDcuMjk1NiwyODEuMDE3IEMyNDIuODU0OSwyODQuNjc5MiAyMzguMDEzMywyODMuMDEyMSAyMzYuMzUwNywyNzcuNjQ4MiBDMjMyLjY0MzcsMjgyLjA2NDUgMjI3LjQ3MjksMjgxLjQ0MDcgMjI0LjkxNjUsMjc2LjI3NTEgQzIyMS4yMTgsMjgwLjQyMzkgMjE1Ljg4MjgsMjgwLjgyNyAyMTMuODc5OSwyNzQuNDkwMyBDMjA5LjY0MDUsMjc5LjM3NDkgMjA1LjExOTEsMjc4LjU5MzUgMjAzLjAwMTQsMjcyLjQwNTcgQzE5NS42MjIyLDI3MS4xOTg4IDE5NC4zMzExLDI2NS4yMjk2IDE5OS4yMTExLDI2MC4yMTIgQzE5Mi45MDc5LDI1OC45MDU3IDE5MC41NTYzLDI1NC4yODExIDE5NC4zNTMsMjQ4LjcwOTEgQzE5MS4wNTcyLDI0My40NTExIDE5Mi40Mzk4LDIzNy42NjY5IDE5OS43ODE4LDIzNy42MTM5IEMxOTQuOTA4MiwyMzIuNTIxOCAxOTYuNDk5MSwyMjcuODg4NSAyMDIuNTI5OSwyMjUuMjEyNyAiIGZpbGw9IiNGRUZFQ0UiIHN0eWxlPSJzdHJva2U6ICMwMDAwMDA7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNjUiIHg9IjIyNC41IiB5PSIyNDQuOTk1MSI+Q2x1c3RlciBJUDwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijk2IiB4PSIyMDkiIHk9IjI2MS4yOTIiPihpcHRhYmxlcy9pcHZzKTwvdGV4dD48IS0tTUQ1PVswYmE1ZWU3NzAwMTY4NjU2ZGMxYjQ1N2M2ZmU5ZmRhY10KZW50aXR5IENsaWVudC0tPjxyZWN0IGZpbGw9IiNERkYwRDgiIGhlaWdodD0iMzYuMjk2OSIgc3R5bGU9InN0cm9rZTogIzQ2ODg0Nzsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTEyIiB4PSIzOCIgeT0iMTEyLjUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjkyIiB4PSI0OCIgeT0iMTM1LjQ5NTEiPkludGVybmFsIGNsaWVudDwvdGV4dD48IS0tTUQ1PVszNjBmNWI3ZjdlNTc2N2FiMDQwMjNkMGQwMDBjMmY4OV0KZW50aXR5IHByb3h5Mi0tPjxyZWN0IGZpbGw9IiNERkYwRDgiIGhlaWdodD0iNTIuNTkzOCIgc3R5bGU9InN0cm9rZTogIzQ2ODg0Nzsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTQzIiB4PSIzODUuNSIgeT0iMTA0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iNDE4LjUiIHk9IjEyNi45OTUxIj5rdWJlLXByb3h5PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTIzIiB4PSIzOTUuNSIgeT0iMTQzLjI5MiI+KExpc3RlbiBub2RlIHBvcnQpPC90ZXh0PjwhLS1NRDU9WzhkZTEwODZmNmMxZGQwMGY5N2NhMTc5YTRlNWY0OGE5XQplbnRpdHkgc2VydmljZTItLT48cGF0aCBkPSJNMzkzLjUyOTksMjI1LjIxMjcgQzM5Ny45NDI4LDIxOS4xODIzIDQwMi4wODg0LDIxOS4yMzA5IDQwNS41ODc4LDIyNi4wNjg2IEM0MDcuOTM1LDIyMC4yMzA5IDQxMi43MDIsMjIwLjQ0NjEgNDE2LjAzMjUsMjI1LjA4ODcgQzQxOC45ODgxLDIyMC40MzggNDIzLjcwMzQsMjIwLjQ2MDkgNDI2LjA1OTMsMjI1LjY5NyBDNDI4LjU4MjMsMjIwLjAyODggNDMzLjgxNiwyMTguNjk1NiA0MzcuNTM0MywyMjQuNTAxNyBDNDQwLjQxNDcsMjIwLjA0NjIgNDQ1LjAwNjgsMjE5LjYzOTUgNDQ4LjE2OTYsMjI0LjE2NzQgQzQ1Mi40MDgzLDIxOC42NTU4IDQ1Ny4wMzUyLDIxOC44ODg3IDQ2MC44NDI0LDIyNC42NTI0IEM0NjQuMzczOSwyMjAuMzc3NCA0NjguNjE0NiwyMjAuMjgzIDQ3MS42NzQ4LDIyNS4yMDczIEM0NzUuMjc5MSwyMjAuMDU0NyA0NzguNzI0LDIxOS45NjE3IDQ4Mi4zODQsMjI1LjE0OTYgQzQ4NS45MjYsMjIwLjA5NzMgNDg5LjgxMjUsMjIwLjczNDUgNDkyLjI4NjcsMjI2LjE1ODggQzQ5NS4zMTAyLDIyMC4yMDY0IDUwMC45MTE0LDIyMC44NTcyIDUwNC40MDI1LDIyNS42MzA3IEM1MTEuMjg0NSwyMjcuNjA5NSA1MTIuMjk5MiwyMzMuODQ0OCA1MDcuODI1LDIzOC43Nzk1IEM1MTMuODU4MiwyMzkuMzcxOCA1MTcuMTMyMiwyNDQuMjU4NyA1MTMuNzA5OCwyNDkuODY4OCBDNTE3LjM1NSwyNTUuMTAwNCA1MTYuMDUwNywyNjAuNzY1NCA1MDguNzIwNCwyNjEuMTM3NCBDNTEzLjE0MTUsMjY1Ljg5NCA1MTIuMjUyNywyNzEuOTk1MyA1MDQuOTM4MSwyNzMuMDE0NyBDNTAyLjE5ODYsMjc5LjMyNzQgNDk4LjYwNzEsMjc5Ljk3OTkgNDkzLjcyOTgsMjc1LjE2ODggQzQ4OS43NzE0LDI4MS43MDc5IDQ4NS4yMTc1LDI4MC44MDgxIDQ4MS4wNTgxLDI3NS4zODE3IEM0NzkuNjU5NiwyODAuNTczMiA0NzQuNDM2MiwyODIuODQ0NCA0NzAuMjAwMiwyNzguNjcxOSBDNDY4LjA2NzcsMjg0LjI1OTEgNDYzLjg1NjgsMjg0LjE0ODMgNDYwLjQ5NzMsMjc5Ljg3OTkgQzQ1OC4wNzI5LDI4Ni43OTI1IDQ1My44Njk0LDI4OC40NTIyIDQ0OC4zMzg4LDI4Mi45MTI4IEM0NDQuMDcxOSwyODYuNDY1IDQ0MC45ODM0LDI4NS44MzAyIDQzOC4yOTU2LDI4MS4wMTcgQzQzMy44NTQ5LDI4NC42NzkyIDQyOS4wMTMzLDI4My4wMTIxIDQyNy4zNTA3LDI3Ny42NDgyIEM0MjMuNjQzNywyODIuMDY0NSA0MTguNDcyOSwyODEuNDQwNyA0MTUuOTE2NSwyNzYuMjc1MSBDNDEyLjIxOCwyODAuNDIzOSA0MDYuODgyOCwyODAuODI3IDQwNC44Nzk5LDI3NC40OTAzIEM0MDAuNjQwNSwyNzkuMzc0OSAzOTYuMTE5MSwyNzguNTkzNSAzOTQuMDAxNCwyNzIuNDA1NyBDMzg2LjYyMjIsMjcxLjE5ODggMzg1LjMzMTEsMjY1LjIyOTYgMzkwLjIxMTEsMjYwLjIxMiBDMzgzLjkwNzksMjU4LjkwNTcgMzgxLjU1NjMsMjU0LjI4MTEgMzg1LjM1MywyNDguNzA5MSBDMzgyLjA1NzIsMjQzLjQ1MTEgMzgzLjQzOTgsMjM3LjY2NjkgMzkwLjc4MTgsMjM3LjYxMzkgQzM4NS45MDgyLDIzMi41MjE4IDM4Ny40OTkxLDIyNy44ODg1IDM5My41Mjk5LDIyNS4yMTI3ICIgZmlsbD0iI0ZFRkVDRSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI2NSIgeD0iNDE1LjUiIHk9IjI0NC45OTUxIj5DbHVzdGVyIElQPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTYiIHg9IjQwMCIgeT0iMjYxLjI5MiI+KGlwdGFibGVzL2lwdnMpPC90ZXh0PjwhLS1NRDU9WzA4MDRlZTA2MTVlYWMxODI4ZDhlYTdkNDZiOTRhNzc5XQplbnRpdHkgcG9kMy0tPjxyZWN0IGZpbGw9IiNERkYwRDgiIGhlaWdodD0iMzYuMjk2OSIgc3R5bGU9InN0cm9rZTogIzQ2ODg0Nzsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTI1IiB4PSIzODUuNSIgeT0iMzQwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxMDUiIHg9IjM5NS41IiB5PSIzNjIuOTk1MSI+QmFja2VuZCBQb2QgMzwvdGV4dD48IS0tTUQ1PVtiODEyNmM4MTI1MmRlMDQ5YzgyNGE3NTY0ZDQ2YjAzM10KZW50aXR5IGxiLS0+PHJlY3QgZmlsbD0iI0RGRjBEOCIgaGVpZ2h0PSIzNi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjNDY4ODQ3OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxNzEiIHg9IjI3MS41IiB5PSI4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSIxNTEiIHg9IjI4MS41IiB5PSIzMC45OTUxIj5FeHRlcm5hbCBsb2FkIGJhbGFuY2VyPC90ZXh0PjwhLS1NRDU9WzI5ODQ4NzBmYjc2NDE4OTJkMjRhMWY0MDgzZDA1ZmIyXQpsaW5rIENsaWVudCB0byBzZXJ2aWNlLS0+PHBhdGggZD0iTTExOC4wNTEsMTQ4LjYxNiBDMTQyLjAyMiwxNjUuNjc2IDE3OS40ODUsMTkyLjMzNiAyMDkuNDczLDIxMy42NzcgIiBmaWxsPSJub25lIiBpZD0iQ2xpZW50LSZndDtzZXJ2aWNlIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjIxMy44NCwyMTYuNzg1LDIwOC44MjUzLDIwOC4zMDg0LDIwOS43NjU4LDIxMy44ODY1LDIwNC4xODc3LDIxNC44MjcxLDIxMy44NCwyMTYuNzg1IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVthMjYyODQ3MjQwZDIwYmNjM2U0ZWMyMDFkZTQwZWZlN10KbGluayBwcm94eSB0byBzZXJ2aWNlLS0+PHBhdGggZD0iTTI1NywxNTcuMjQ0IEMyNTcsMTczLjIxMyAyNTcsMTkzLjk2NiAyNTcsMjExLjU0NSAiIGZpbGw9Im5vbmUiIGlkPSJwcm94eS0mZ3Q7c2VydmljZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIyNTcsMjE2Ljg5LDI2MSwyMDcuODksMjU3LDIxMS44OSwyNTMsMjA3Ljg5LDI1NywyMTYuODkiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzBjNGJmOGIwMjZkYWFiZjZhNTUzNjJjYTYwNjZkMWY1XQpsaW5rIHNlcnZpY2UgdG8gcG9kMS0tPjxwYXRoIGQ9Ik0yMTQuMTMzLDI4MC4wMTggQzE4OC41MjMsMjk4LjI1IDE1Ni43MSwzMjAuODk4MiAxMzQuMjQsMzM2Ljg5NTcgIiBmaWxsPSJub25lIiBpZD0ic2VydmljZS0mZ3Q7cG9kMSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIxMzAuMTU2LDMzOS44MDI4LDEzOS44MDc2LDMzNy44NDE1LDEzNC4yMjkyLDMzNi45MDI5LDEzNS4xNjc3LDMzMS4zMjQ1LDEzMC4xNTYsMzM5LjgwMjgiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzRjZTMyY2RhYTFhYmVlM2I1Mjg4ZDM2MmQ1NTc5ZGQ0XQpsaW5rIHNlcnZpY2UgdG8gcG9kMi0tPjxwYXRoIGQ9Ik0yNTkuNTU1LDI4MC4wMTggQzI2MS4wMTIsMjk3LjQxOCAyNjIuODA1LDMxOC44Mzk5IDI2NC4xMywzMzQuNjY0NiAiIGZpbGw9Im5vbmUiIGlkPSJzZXJ2aWNlLSZndDtwb2QyIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjI2NC41NiwzMzkuODAyOCwyNjcuNzk1MiwzMzAuNTAwNSwyNjQuMTQyOSwzMzQuODIwMiwyNTkuODIzMSwzMzEuMTY3OSwyNjQuNTYsMzM5LjgwMjgiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzkxMzRmNzQ4ZTQyNTBlYTBjMDE3NmIwNjBmYzA1YzZjXQpsaW5rIHNlcnZpY2UgdG8gcG9kMy0tPjxwYXRoIGQ9Ik0zMTEuMjIyLDI4MC4wMTggQzM0My45ODksMjk4LjQ2IDM4NC43ODUsMzIxLjQyMSA0MTMuMjU4LDMzNy40NDY0ICIgZmlsbD0ibm9uZSIgaWQ9InNlcnZpY2UtJmd0O3BvZDMiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDE3LjcxOSwzMzkuOTU3LDQxMS44Mzg1LDMzMi4wNTY0LDQxMy4zNjE5LDMzNy41MDQzLDQwNy45MTQxLDMzOS4wMjc3LDQxNy43MTksMzM5Ljk1NyIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bYTc3ZjYxYTNkYTM2OWE3OWQwMWVmOGE2ZjE3ZjJiZGJdCmxpbmsgbGIgdG8gcHJveHktLT48cGF0aCBkPSJNMzQwLjAzNiw0NC4zODggQzMyNS4yMiw1OS41NzQgMzAzLjM5OCw4MS45NDIgMjg1Ljg0Myw5OS45MzYgIiBmaWxsPSJub25lIiBpZD0ibGItJmd0O3Byb3h5IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjI4MS45MzgsMTAzLjkzOSwyOTEuMDg2OSwxMDAuMjkyMywyODUuNDMwNCwxMDAuMzYwOSwyODUuMzYxOSw5NC43MDQ0LDI4MS45MzgsMTAzLjkzOSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNTQ3NDMzNDA2ZDE3MGNiMjU1YTIxZGJiZmY4NDE4NTZdCmxpbmsgbGIgdG8gcHJveHkyLS0+PHBhdGggZD0iTTM3My45NjQsNDQuMzg4IEMzODguNzgsNTkuNTc0IDQxMC42MDIsODEuOTQyIDQyOC4xNTcsOTkuOTM2ICIgZmlsbD0ibm9uZSIgaWQ9ImxiLSZndDtwcm94eTIiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDMyLjA2MiwxMDMuOTM5LDQyOC42MzgxLDk0LjcwNDQsNDI4LjU2OTYsMTAwLjM2MDksNDIyLjkxMzEsMTAwLjI5MjMsNDMyLjA2MiwxMDMuOTM5IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVsyMDhmZDI0ZTFmMDEwNDI1MmYwYmVkNjljOGY1NWVmYl0KbGluayBwcm94eTIgdG8gc2VydmljZTItLT48cGF0aCBkPSJNNDU1LjAwMywxNTcuMjQ0IEM0NTMuNzY0LDE3My4yMTMgNDUyLjE1MywxOTMuOTY2IDQ1MC43OSwyMTEuNTQ1ICIgZmlsbD0ibm9uZSIgaWQ9InByb3h5Mi0mZ3Q7c2VydmljZTIiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDUwLjM3NSwyMTYuODksNDU1LjA1OTgsMjA4LjIyNjcsNDUwLjc2MjEsMjExLjkwNSw0NDcuMDgzOCwyMDcuNjA3Myw0NTAuMzc1LDIxNi44OSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bZDI2NjY4MjNiZDVmN2EyMWYwYjk2Nzc0NWMyYmNjYzBdCmxpbmsgc2VydmljZTIgdG8gcG9kMS0tPjxwYXRoIGQ9Ik0zODQuODczLDI2OS4zNDIgQzMyMi4xNzIsMjg5LjA1MSAyMjYuNzY2LDMxOS4wNCAxNjUuNDAxLDMzOC4zMjg3ICIgZmlsbD0ibm9uZSIgaWQ9InNlcnZpY2UyLSZndDtwb2QxIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjE2MC4zMDgsMzM5LjkyOTcsMTcwLjA5MzEsMzQxLjA0ODIsMTY1LjA3ODEsMzM4LjQzMSwxNjcuNjk1MywzMzMuNDE2LDE2MC4zMDgsMzM5LjkyOTciIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2IzYTVjNDM0ZjEzYzk5NGFjMjNiZWE0ZmY0ZWZkYzViXQpsaW5rIHNlcnZpY2UyIHRvIHBvZDItLT48cGF0aCBkPSJNMzk2LjMzMywyODAuMDE4IEMzNjUuMjM4LDI5OC4zODQgMzI2LjU1NiwzMjEuMjMyMSAyOTkuNDQsMzM3LjI0ODIgIiBmaWxsPSJub25lIiBpZD0ic2VydmljZTItJmd0O3BvZDIiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iMjk0Ljg1NCwzMzkuOTU3LDMwNC42Mzc1LDMzOC44MjQsMjk5LjE1OTEsMzM3LjQxNDIsMzAwLjU2ODksMzMxLjkzNTgsMjk0Ljg1NCwzMzkuOTU3IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVtmMWRkMWZlOThjMDk4Y2JmZmVhZjY0NDMyMGJkNTBkN10KbGluayBzZXJ2aWNlMiB0byBwb2QzLS0+PHBhdGggZD0iTTQ0OCwyODAuMDE4IEM0NDgsMjk3LjQxOCA0NDgsMzE4LjgzOTkgNDQ4LDMzNC42NjQ2ICIgZmlsbD0ibm9uZSIgaWQ9InNlcnZpY2UyLSZndDtwb2QzIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjQ0OCwzMzkuODAyOCw0NTIsMzMwLjgwMjgsNDQ4LDMzNC44MDI4LDQ0NCwzMzAuODAyOCw0NDgsMzM5LjgwMjgiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwvZz48L3N2Zz4=" alt=""/>
</div>
</div>
<div class="paragraph">
<p>很多后端服务是跟session相关的，如果在ip层做round-robin会导致session丢失，这个时候可以设置 <code>service.spec.sessionAffinity</code> 为 <code>ClientIP</code> 来启用基于源ip的会话粘连。但由于外部客户端必须通过 node port 访问集群，为防止单点故障，通常还需要在集群外部部署 Load balancer， 将流量转发到不同Node，这个时候在外部负载均衡器上也需要设置会话粘连。不过有些负载均衡器本身也是个集群，拥有多个ip，这样基于源ip的sessionAffinity就没用了。</p>
</div>
<div class="paragraph">
<p>关于iptables 还是 IPVS 的选择可以参考 <a href="https://blog.fleeto.us/post/iptables-or-ipvs/">kube-proxy 模式对比</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="_load_balancer">2.2. Load balancer</h3>
<div class="paragraph">
<p>我们看到在kube-proxy模式下，从外部负载均衡器访问pod需要通过node port转发，所以实际产生了2层负载均衡，一层在外部负载均衡器，一层在kube-proxy。这也造成了节点间额外的水平流量。而 Load balancer 类型的 service 则可以让上层设备直连对应node。</p>
</div>
<div class="sect3">
<h4 id="_bgp协议">2.2.1. BGP协议</h4>
<div class="paragraph">
<p>如果上层路由支持BGP协议，我们可以使用一个独立的网段为service分配一个External IP，这个External IP类似虚拟IP，通过BGP协议通告给上层路由，建立这个虚IP到实际node的路由。在开源实现 <a href="https://github.com/metallb/metallb">MetalLB</a> 中，MetalLB会监控pod列表，并通过speaker组件向上层路由更新路由表。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDk3cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo3NjRweDtoZWlnaHQ6NDk3cHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA3NjQgNDk3IiB3aWR0aD0iNzY0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbdGV4dHtmb250LWZhbWlseTpLYWlHZW4gR290aGljIENOLE1pY3Jvc29mdCBZYUhlaSxBcmlhbCxzYW5zLXNlcmlmfV1dPjwvc3R5bGU+PGRlZnMvPjxnPjxwYXRoIGQ9Ik0xOTIuNTQ3NiwzMi43MDM5IEMxOTguODIzLDI1LjExODMgMjA3Ljg1NTMsMjYuODYxMyAyMTEuODQwMiwzNS40MzggQzIxNy40NzY2LDIzLjk0NjEgMjI5LjQ2NTMsMjEuNzM4NCAyMzYuNTU1NCwzMy45MjA0IEMyNDEuODU0NCwyMi4yNjAyIDI0OS44NDYzLDI0LjE1MTUgMjU3LjA4NDYsMzEuODY1NSBDMjY1LjMwMTYsMjMuMDA2OSAyNzQuNjgzMiwyMi43ODcgMjgwLjU1MzEsMzQuNTM4MiBDMjg3LjcxNjIsMjMuMTM3NSAyOTUuNTQ1NiwyNS4xNzYxIDMwMy4wMDgyLDM0LjIwOTEgQzMwOC42OTUzLDE5LjY5NjUgMzE4Ljg3MzksMjAuMTk1OSAzMjcuNzk0MiwzMS4wNDk5IEMzMzQuNDI2OCwxOS43ODkxIDM0My45NTUxLDE5LjA4NSAzNTAuMzUwNSwzMS4yNzggQzM1NS45MzkzLDE5LjYyNzYgMzY2LjQ1NzcsMjAuMTQwNyAzNzIuNDE4OCwzMC45MTE1IEMzNzkuMjAzNSwxOS43MjcxIDM4Ny4wNjY0LDIxLjQ1NzkgMzkzLjk0MDYsMzAuODE3NyBDNDAxLjM0MDEsMjEuMDgwOSA0MTAuNTA4NCwyMi4yMTAyIDQxNy4wNzM4LDMxLjgxNTMgQzQyNS43Mjg2LDIwLjY3MjIgNDMyLjgxOTEsMjEuOTA1OCA0NDAuMDI3NiwzMy4yODg5IEM0NDcuNDI0MiwyMi4zNjE5IDQ1NS41MjMzLDIwLjYwOTYgNDY0LjQyOTUsMzEuNjA4NyBDNDcwLjUxNTIsMjMuNjQ2NyA0NzguMTg3MywyMS45ODIyIDQ4NC4wMjg1LDMxLjg3NzEgQzQ5My41ODk1LDIxLjQxMTIgNTA0LjA4MzcsMjAuNjM0MSA1MTAuMTEyMiwzNS41MTI3IEM1MjguNDExMSw0MS44NTYzIDUzMy4yNTEzLDUyLjY2MjEgNTE4Ljc4NCw2Ny44MDQ4IEM1MzAuNDYxNyw4Mi4xNjEzIDUyNS4xODQxLDk1LjAyOTQgNTA3LjE5NjIsOTguMDAyMiBDNTAwLjk5MTcsMTA4LjI2ODkgNDkwLjM2MTUsMTA3LjE5NzkgNDg0LjgxMTEsOTcuMjc3IEM0NzkuMTM2MywxMDcuNDg5MyA0NzEuMzg4LDEwNy43NzQgNDY0LjcwMDIsOTguMzEyNiBDNDU4LjcwNzEsMTExLjIyNzQgNDUxLjcyNzIsMTEzLjI2MDEgNDQxLjE4NywxMDIuOTA3NyBDNDM1LjIyNzEsMTEzLjc2MDggNDIzLjA0MTIsMTE2Ljc4NzQgNDE1Ljk2MDUsMTA0LjEwOTIgQzQxMC4wMzYyLDExMi44Njc5IDQwMS43NTM1LDExMy44OTA4IDM5NS4zODI3LDEwNC42MTg3IEMzODkuMDc4NywxMTMuMzA2IDM3OC4zMjA1LDExMy41MTQxIDM3My4yNzA2LDEwMy4xNjIxIEMzNjguMjIxMiwxMTQuOTAwMSAzNTkuMDk4NSwxMTYuODUxNiAzNTAuOTkzMSwxMDYuMjAzMyBDMzQzLjY5NTIsMTE1LjIxNTEgMzMyLjQ2MTcsMTE1LjYwNzcgMzI3LjcxOTQsMTAzLjQwMDMgQzMyMi4xMzg2LDExMy4zNjE1IDMxMi41MjMzLDExNC4zMDU2IDMwNS40NzY5LDEwNS4xMDEyIEMyOTYuMjQyNiwxMTMuNDU0NCAyODguNTMsMTEyLjQ3NiAyODIuODg4NSwxMDEuMDA3IEMyNzUuODkxOCwxMTQuMzI3OSAyNjYuOTA0MywxMTEuODIyOCAyNTguODI1MywxMDIuMTM5MSBDMjUwLjk2NTIsMTExLjk2NTEgMjQzLjQ0MSwxMTAuNjExOCAyMzcuNDM4MywxMDAuMTc4MyBDMjI4LjkzODgsMTA5LjM5NzIgMjIyLjIzNjksMTA4LjQwNTIgMjE1LjUyNzYsOTguMTYyOSBDMjA4Ljc5NTksMTA5LjA1MSAxOTcuNjMzNSwxMDguODYwMyAxOTMuMDA0Niw5Ni4xNTU1IEMxNzguMDU4Nyw5MS44OTY2IDE3Mi40NjI1LDc4LjcwNjggMTg1Ljk5NzQsNjcuNDg2NyBDMTcxLjY0NDgsNTIuNTAzMiAxNzMuOTYyMiw0MS40ODQ2IDE5Mi41NDc2LDMyLjcwMzkgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiAjMDA4MUM2OyBzdHJva2Utd2lkdGg6IDEuNTsiLz48cGF0aCBkPSJNNDQuMjI2NCwyMjQuMjY2MiBDNTguNTc4LDIwNC4xMjE3IDc2LjgzNTYsMjA3LjEwNTIgODUuMjYzMywyMjkuOTI0NCBDOTguNDYxNiwyMDYuMzE0MiAxMjEuMzEwMiwyMDUuMzY0MyAxMzYuMDcyNiwyMjguMjEzOCBDMTUwLjIxODUsMjA1LjAwOSAxNzIuNDYyNCwyMDUuMDgzNiAxODcuNDQwNSwyMjcuMjcyMSBDMTk5Ljk1NzMsMjA2LjczMzIgMjE3LjgyODUsMjA3LjE1ODcgMjMyLjEzMjYsMjI1LjIwMTggQzI0Ni45MDk1LDIwNS4yODE1IDI2MS4xMTY2LDIwMy45MzcxIDI3Ni4yODQsMjI0Ljc3ODggQzI4OS4wNDM4LDIwMC44NjIxIDMwNC45NTY5LDE5NS44MTQ0IDMyNC4yMzMzLDIxOC4wMDE0IEMzNDIuNjc5LDE5Ny4yMzQxIDM1Ny42ODUzLDE5NC40MjIxIDM3Mi42OTIyLDIyMS40ODU1IEMzODguOTM4MSwxOTkuNTUzMyA0MDkuMjMwNCwxOTguMDggNDI1LjA5MTEsMjIxLjkyNjUgQzQzNi41MDc2LDE5OC43NTE2IDQ1NS44MjU5LDE5OS44NTkxIDQ2Ny42MzA0LDIyMS41NTg2IEM0ODQuOTI2OCwxOTguMzE2NCA1MDYuOTM5OCwxOTcuNDkyNCA1MjIuNDUzNiwyMjMuNTQxMyBDNTM0Ljc0NzEsMjAzLjIzNyA1NTIuNzg5NCwyMDAuNDA5NCA1NjcuMzk2NCwyMjAuOTk4OCBDNTgzLjUwMTQsMTk4LjkzMjMgNjAyLjE0ODksMjA3LjYzNTcgNjExLjk1MzIsMjI3LjY2NzQgQzYyMy4wNTYyLDIwMS4wNDM3IDY0Ny45MTA5LDE5OS4xMzU1IDY2NC4wNTYyLDIyMi40MDE1IEM2ODMuMjQ2NywyMDMuMDg4NCA2OTkuOTY0NiwyMDQuMTY3MiA3MTIsMjMwIEM3MTUuOTI2LDIyNy4xMTc4IDcxOC40MzY3LDIyOC4zNTQ2IDcxOS40MzExLDIzMi45MjM3IEM3NDUuOTE0MywyNDQuMjA5IDc0Ni44ODQ4LDI3MC4yNDYgNzI0LjUyNzksMjg2LjIwMzQgQzc1MC45MDksMzAzLjAzODQgNzUyLjIwMjIsMzI0LjI2NzYgNzI2LjA0MzcsMzQyLjUxNjggQzc0Ni4zNDE2LDM2Mi4xNjU5IDc0Ny4yNjU1LDM4NS4yNzIyIDcxNy41MDIzLDM5Ny4wODU0IEM3MzUuNjYxNiw0MTkuNzI4NSA3MzUuNTUwMyw0MzguMDg3NSA3MDUsNDQ5IEM3MDguMTk0NSw0NDYuMTUxOCA3MTAuNzg3Myw0NDYuMjY4OCA3MTMuMDE5Niw0NTAuMTQ3MSBDNjk3LjE4NjYsNDcyLjAzIDY3Ni45MDMxLDQ3My41MzAyIDY1OS44OTAyLDQ1MS41NzcxIEM2NDguMzU2NSw0NzIuMDc5NiA2MzMuMDcyOCw0NzguNDMzIDYxNi41MDQyLDQ1Ni43NTYgQzYwMS45NzU0LDQ4MC44NzAyIDU4MC40MjYxLDQ3NS4yODYgNTY5Ljc3MzEsNDUyLjg2MzkgQzU1Ny43NDQsNDgxLjA2OTIgNTQwLjA5NDUsNDc3Ljk4NzkgNTIxLjU4MTEsNDU5LjU2NTggQzUwNC40NzI2LDQ4MS43NjM3IDQ4NS45MzU2LDQ3OS43NjUzIDQ3MC4xMDI0LDQ1OC4wNzAxIEM0NTUuODk4Myw0ODAuOTE4MSA0MzguNTY5NCw0ODAuNjcwMiA0MjMuNDY3Niw0NTkuMDEwOCBDNDA4LjAwMTYsNDgwLjQ5MDYgMzkwLjAwNzQsNDgxLjQ3MjUgMzc3LjI2MjcsNDU2LjMxNDcgQzM2My4yMjU5LDQ3OC41NzIxIDM0OS44NDUzLDQ4Mi43NzE3IDMzMS45OTYzLDQ2MC4xNjA4IEMzMTMuODMxLDQ4MC43NzExIDI5MS42MTA3LDQ4NS4zMDkzIDI3OC42MjU0LDQ1NC43NTcyIEMyNjIuODk1Myw0NzkuOTAwNyAyNDQuNjMzOSw0NzYuNjY4MSAyMjkuNDY4LDQ1NC4xNzQ5IEMyMTYuNTEyLDQ3Ni45MzY1IDE5NS4zMTY3LDQ3Mi4wNzY0IDE4My42NzAzLDQ1Mi43NSBDMTcyLjY3OTQsNDc3LjYxMDkgMTUwLjc0MDcsNDgyLjIzNTUgMTMzLjc4NCw0NTguOTI4NiBDMTE5LjI2NzcsNDc3LjI1MDcgOTcuODM5NSw0NzcuMjk2NiA4Ni4zNzk0LDQ1NS4zMzI1IEM1OS44MDA1LDQ4MC44MDQyIDQzLjQ2ODMsNDcxLjk2OTUgMzAsNDQyIEMzNS40OTYsNDQwLjg1MjIgMzcuNTk5NCw0NDMuNTE0NCAzNi4zMDQyLDQ0OC43MjkxIEM2Ljk5NzEsNDM0LjAwMzQgNy4wODQ0LDQxNi44NTk1IDI4LjIzNTQsMzk0LjYxMDcgQzIuNjY5OCwzODIuMjI3MSAxLjYyMDksMzU5LjIxNDUgMjUuNDk2NSwzNDQuMTQ3NCBDLTIuODA1OSwzMjUuOTg5MiAtMC44NDM5LDMwMC44NzcyIDI2LjYzNTcsMjgzLjc3MTUgQzAuODk4MiwyNjAuMjI1NiA0Ljg2MzMsMjM2LjY3NTcgMzcsMjIzIEMzOS45OTM5LDIxOS44ODAxIDQyLjQzMjEsMjIwLjU0IDQ0LjIyNjQsMjI0LjI2NjIgIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0ic3Ryb2tlOiAjMDA4MUM2OyBzdHJva2Utd2lkdGg6IDEuNTsiLz48IS0tTUQ1PVsyYzBlYjA5MGRiOGIyMWU3MDk4MzdiNmExYzRkYzAzOV0KY2x1c3RlciBOb2RlLS0+PHJlY3QgZmlsbD0iI0Y1RjJGMCIgaGVpZ2h0PSIxOTQiIHN0eWxlPSJzdHJva2U6ICNDQ0NDQ0M7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjMxOCIgeD0iNDYiIHk9IjIzOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQxIiB4PSIxODQuNSIgeT0iMjUzLjk5NTEiPk5vZGU8L3RleHQ+PCEtLU1ENT1bODMwNTlkZjNlZDQ0ODhiMGU1NTJlYjlhYTI2ZTAwMTVdCmNsdXN0ZXIgbm9kZTItLT48cmVjdCBmaWxsPSIjRjVGMkYwIiBoZWlnaHQ9IjE5NCIgc3R5bGU9InN0cm9rZTogI0NDQ0NDQzsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMzA4IiB4PSIzODgiIHk9IjIzOSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQxIiB4PSI1MjEuNSIgeT0iMjUzLjk5NTEiPk5vZGU8L3RleHQ+PCEtLU1ENT1bNGE2NWU4NDA1OTAwNWQxMjY5M2EwODMzNzBhMDY3MTddCmVudGl0eSBjbGllbnQtLT48cmVjdCBmaWxsPSIjREZGMEQ4IiBoZWlnaHQ9IjM2LjI5NjkiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjExNiIgeD0iMTk3IiB5PSI0NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTYiIHg9IjIwNyIgeT0iNjguOTk1MSI+RXh0ZXJuYWwgY2xpZW50PC90ZXh0PjwhLS1NRDU9WzczNDJlZGQ5YTE4NGQ4NjA3MzkxZjRjMTMwZWZiZjAxXQplbnRpdHkgcm91dGVyLS0+PGVsbGlwc2UgY3g9IjQ1NyIgY3k9IjU2IiBmaWxsPSIjNTVERENBIiByeD0iMTIiIHJ5PSIxMiIgc3R5bGU9InN0cm9rZTogIzAwODFDNjsgc3Ryb2tlLXdpZHRoOiAyLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzAwODFDNiIgcG9pbnRzPSI0NTMsNDQsNDU5LDM5LDQ1Nyw0NCw0NTksNDksNDUzLDQ0IiBzdHlsZT0ic3Ryb2tlOiAjMDA4MUM2OyBzdHJva2Utd2lkdGg6IDEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjgxIiB4PSI0MTYuNSIgeT0iODQuOTk1MSI+QkdQIFJvdXRlcjwvdGV4dD48IS0tTUQ1PVthZjJmNzhjNjY4NzZjYTIyNWVjMTFiNmJhNzFlNjhiMF0KZW50aXR5IHNlcnZpY2UxLS0+PHBhdGggZD0iTTI0MS4yMzM4LDI4NC4xNTI3IEMyNDMuNTUyNiwyNzguOTM4NiAyNDguMTg0NiwyNzcuMjMwMSAyNTIuNTEzLDI4MS44NDY5IEMyNTYuNTIyNiwyNzYuOTkzMyAyNTkuODcxOSwyNzcuMDAxOSAyNjMuMTg2NiwyODIuNTU5NCBDMjY1Ljg1MTUsMjc2LjMyOCAyNjkuMTkwOSwyNzUuMDI5OSAyNzQuMzYyLDI4MC4wNzU4IEMyNzcuMzY1MywyNzQuODU5MyAyODEuNTgwOCwyNzQuODE4MSAyODUuMTUxNywyNzkuNDU0MiBDMjg5LjU4ODIsMjczLjcwOCAyOTUuNDM4MiwyNzQuNTA0NCAyOTguNDYzMiwyODAuOTkwMiBDMzAxLjMwNTIsMjc2LjU3MTYgMzA1LjQwNjgsMjc2LjYxNDUgMzA4LjM4MTIsMjgwLjgzODIgQzMxMi4wNjgsMjc0LjkzMTggMzE3LjM3MDYsMjc2LjQ0OTIgMzE5Ljk4MjMsMjgxLjkzMzIgQzMyNC4wMjEyLDI3Ny45NDU5IDMyOC4wODc5LDI3Ny4yMjY0IDMzMC43OTg2LDI4My4zNTM2IEMzMzguMzExMSwyODYuMTg5MSAzMzguODQyOCwyOTEuNTUwMyAzMzQuMTI4OSwyOTcuMzA0NSBDMzQxLjc1NjYsMzAzLjc5NjMgMzM5LjYwNjcsMzA5LjY2MzIgMzMxLjMzNDEsMzEzLjM5MjggQzMyOC4xNjIxLDMxOC4yMzIyIDMyNC41MDExLDMxOC4yMjk1IDMyMC45MTExLDMxMy44NjYxIEMzMTcuNzgyOSwzMTkuNTAxNyAzMTQuMDA1OSwzMjAuNTQ0NSAzMDkuMjE2NiwzMTUuNzI0IEMzMDYuNjQzOSwzMjIuNDkxNCAzMDIuMTgwNywzMjEuNjI4NiAyOTcuODM3MSwzMTcuNTg4NyBDMjk1LjE5NTUsMzIyLjk2NCAyOTEuMTI1MiwzMjQuMDY5OSAyODYuODI3NiwzMTkuNDA0MyBDMjgzLjQ1MjYsMzI1LjQ4NzMgMjc4LjEyODIsMzI0LjM4MzYgMjc1LjE1NDksMzE4Ljk5NTYgQzI2OS45OTY4LDMyMy43ODA4IDI2NS4xNTksMzIzLjAyMjggMjYzLjAwODQsMzE1LjkyMjIgQzI1OS41NDE2LDMyMC44NzE0IDI1Ni4yMjI5LDMyMC4wNjM1IDI1Mi44MzQ5LDMxNS44MzQ5IEMyNDcuOTQ4MiwzMTkuNzM3NyAyNDMuMjY4NSwzMTkuMjcwNCAyNDEuNDE5MywzMTIuNTY2IEMyMzIuNjU3NywzMTEuMTMyNCAyMzEuMTY5MSwzMDQuNDY5NyAyMzUuODE2NywyOTcuOTEgQzIzMS44ODcsMjkxLjczODUgMjMyLjQwNjgsMjg1LjMwMTEgMjQxLjIzMzgsMjg0LjE1MjcgIiBmaWxsPSIjRkVGRUNFIiBzdHlsZT0ic3Ryb2tlOiAjMDAwMDAwOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc3IiB4PSIyNDYuNSIgeT0iMzAxLjk5NTEiPmt1YmUtcHJveHk8L3RleHQ+PCEtLU1ENT1bNDA3MzY1NDFmZDI0NzdjNWIzMWJlNWY1NDdmYzg5OTRdCmVudGl0eSBwb2QxLS0+PHJlY3QgZmlsbD0iI0RGRjBEOCIgaGVpZ2h0PSIzNi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjNDY4ODQ3OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMjUiIHg9IjYyLjUiIHk9IjM4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSI3Mi41IiB5PSI0MDMuOTk1MSI+QmFja2VuZCBQb2QgMTwvdGV4dD48IS0tTUQ1PVtkMzdhMDdjYWU2M2M2NmQ1NzRjOTlkZDgxYjVhOGZkM10KZW50aXR5IHBvZDItLT48cmVjdCBmaWxsPSIjREZGMEQ4IiBoZWlnaHQ9IjM2LjI5NjkiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIgd2lkdGg9IjEyNSIgeD0iMjIyLjUiIHk9IjM4MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSIyMzIuNSIgeT0iNDAzLjk5NTEiPkJhY2tlbmQgUG9kIDI8L3RleHQ+PCEtLU1ENT1bOGRlMTA4NmY2YzFkZDAwZjk3Y2ExNzlhNGU1ZjQ4YTldCmVudGl0eSBzZXJ2aWNlMi0tPjxwYXRoIGQ9Ik00MTMuMjMzOCwyODQuMTUyNyBDNDE1LjU1MjYsMjc4LjkzODYgNDIwLjE4NDYsMjc3LjIzMDEgNDI0LjUxMywyODEuODQ2OSBDNDI4LjUyMjYsMjc2Ljk5MzMgNDMxLjg3MTksMjc3LjAwMTkgNDM1LjE4NjYsMjgyLjU1OTQgQzQzNy44NTE1LDI3Ni4zMjggNDQxLjE5MDksMjc1LjAyOTkgNDQ2LjM2MiwyODAuMDc1OCBDNDQ5LjM2NTMsMjc0Ljg1OTMgNDUzLjU4MDgsMjc0LjgxODEgNDU3LjE1MTcsMjc5LjQ1NDIgQzQ2MS41ODgyLDI3My43MDggNDY3LjQzODIsMjc0LjUwNDQgNDcwLjQ2MzIsMjgwLjk5MDIgQzQ3My4zMDUyLDI3Ni41NzE2IDQ3Ny40MDY4LDI3Ni42MTQ1IDQ4MC4zODEyLDI4MC44MzgyIEM0ODQuMDY4LDI3NC45MzE4IDQ4OS4zNzA2LDI3Ni40NDkyIDQ5MS45ODIzLDI4MS45MzMyIEM0OTYuMDIxMiwyNzcuOTQ1OSA1MDAuMDg3OSwyNzcuMjI2NCA1MDIuNzk4NiwyODMuMzUzNiBDNTEwLjMxMTEsMjg2LjE4OTEgNTEwLjg0MjgsMjkxLjU1MDMgNTA2LjEyODksMjk3LjMwNDUgQzUxMy43NTY2LDMwMy43OTYzIDUxMS42MDY3LDMwOS42NjMyIDUwMy4zMzQxLDMxMy4zOTI4IEM1MDAuMTYyMSwzMTguMjMyMiA0OTYuNTAxMSwzMTguMjI5NSA0OTIuOTExMSwzMTMuODY2MSBDNDg5Ljc4MjksMzE5LjUwMTcgNDg2LjAwNTksMzIwLjU0NDUgNDgxLjIxNjYsMzE1LjcyNCBDNDc4LjY0MzksMzIyLjQ5MTQgNDc0LjE4MDcsMzIxLjYyODYgNDY5LjgzNzEsMzE3LjU4ODcgQzQ2Ny4xOTU1LDMyMi45NjQgNDYzLjEyNTIsMzI0LjA2OTkgNDU4LjgyNzYsMzE5LjQwNDMgQzQ1NS40NTI2LDMyNS40ODczIDQ1MC4xMjgyLDMyNC4zODM2IDQ0Ny4xNTQ5LDMxOC45OTU2IEM0NDEuOTk2OCwzMjMuNzgwOCA0MzcuMTU5LDMyMy4wMjI4IDQzNS4wMDg0LDMxNS45MjIyIEM0MzEuNTQxNiwzMjAuODcxNCA0MjguMjIyOSwzMjAuMDYzNSA0MjQuODM0OSwzMTUuODM0OSBDNDE5Ljk0ODIsMzE5LjczNzcgNDE1LjI2ODUsMzE5LjI3MDQgNDEzLjQxOTMsMzEyLjU2NiBDNDA0LjY1NzcsMzExLjEzMjQgNDAzLjE2OTEsMzA0LjQ2OTcgNDA3LjgxNjcsMjk3LjkxIEM0MDMuODg3LDI5MS43Mzg1IDQwNC40MDY4LDI4NS4zMDExIDQxMy4yMzM4LDI4NC4xNTI3ICIgZmlsbD0iI0ZFRkVDRSIgc3R5bGU9InN0cm9rZTogIzAwMDAwMDsgc3Ryb2tlLXdpZHRoOiAxLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iNDE4LjUiIHk9IjMwMS45OTUxIj5rdWJlLXByb3h5PC90ZXh0PjwhLS1NRDU9Wzc1NGRjMGFkMTgxMWI1ZGEzYjk0MTNiMjM0YjdlOTIzXQplbnRpdHkgc3BlYWtlci0tPjxyZWN0IGZpbGw9IiNERkYwRDgiIGhlaWdodD0iMzYuMjk2OSIgc3R5bGU9InN0cm9rZTogIzQ2ODg0Nzsgc3Ryb2tlLXdpZHRoOiAxLjU7IiB3aWR0aD0iMTM0IiB4PSI1NDYiIHk9IjI3OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTE0IiB4PSI1NTYiIHk9IjMwMS45OTUxIj5NZXRhbExCIHNwZWFrZXI8L3RleHQ+PCEtLU1ENT1bMDgwNGVlMDYxNWVhYzE4MjhkOGVhN2Q0NmI5NGE3NzldCmVudGl0eSBwb2QzLS0+PHJlY3QgZmlsbD0iI0RGRjBEOCIgaGVpZ2h0PSIzNi4yOTY5IiBzdHlsZT0ic3Ryb2tlOiAjNDY4ODQ3OyBzdHJva2Utd2lkdGg6IDEuNTsiIHdpZHRoPSIxMjUiIHg9IjQwNC41IiB5PSIzODEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwNSIgeD0iNDE0LjUiIHk9IjQwMy45OTUxIj5CYWNrZW5kIFBvZCAzPC90ZXh0PjwhLS1NRDU9W2EwOWFiZGQ2YzMzNTFlZmEzMjk2N2M4MzA5MzQ3MmM1XQpsaW5rIGNsaWVudCB0byByb3V0ZXItLT48cGF0aCBkPSJNMzEzLjE1Niw2NCBDMzQ0LjIwNyw2NCAzODEuODkxLDY0IDQxMC44OTgsNjQgIiBmaWxsPSJub25lIiBpZD0iY2xpZW50LSZndDtyb3V0ZXIiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDE2LjIwOSw2NCw0MDcuMjA5LDYwLDQxMS4yMDksNjQsNDA3LjIwOSw2OCw0MTYuMjA5LDY0IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjY3IiB4PSIzMzEuMjUiIHk9IjU3LjA2NjkiPkV4dGVybmFsIElQPC90ZXh0PjwhLS1NRDU9WzA2OTM4ZWNhOTMwYmNlNjU5NmM1NjY0MmE0Mzk3Y2I1XQpsaW5rIHJvdXRlciB0byBzZXJ2aWNlMS0tPjxwYXRoIGQ9Ik00MzkuNTYxLDg4LjQyMSBDNDA3LjI5NCwxMzEuNzU2IDMzOC40ODYsMjI0LjE2NyAzMDQuNjM2LDI2OS42MjkgIiBmaWxsPSJub25lIiBpZD0icm91dGVyLSZndDtzZXJ2aWNlMSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIzMDEuNDcxLDI3My44NzksMzEwLjA1NDIsMjY5LjA0OSwzMDQuNDU3LDI2OS44Njg2LDMwMy42Mzc1LDI2NC4yNzE0LDMwMS40NzEsMjczLjg3OSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNTEyNjY5OTI0OTRhNWMyNWYzN2U5ZjBiMzQzMjk3ZDVdCmxpbmsgcm91dGVyIHRvIHNlcnZpY2UyLS0+PHBhdGggZD0iTTQ1Nyw4OC40MjEgQzQ1NywxMzEuNDk0IDQ1NywyMjMuMDUxIDQ1NywyNjguNzk5ICIgZmlsbD0ibm9uZSIgaWQ9InJvdXRlci0mZ3Q7c2VydmljZTIiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDU3LDI3My44NzksNDYxLDI2NC44NzksNDU3LDI2OC44NzksNDUzLDI2NC44NzksNDU3LDI3My44NzkiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2Q3NjhiZTc2Zjk0NzY4ZjkyNTJmM2U2ZmI4MjcwYjVmXQpyZXZlcnNlIGxpbmsgcm91dGVyIHRvIHNwZWFrZXItLT48cGF0aCBkPSJNNDc1LjY3Nyw5Mi42NTcgQzUwOC4zMTQsMTQwLjk4NSA1NzQuNzkyLDIzOS40MjMgNjAxLjUwNiwyNzguOTggIiBmaWxsPSJub25lIiBpZD0icm91dGVyJmx0Oy1zcGVha2VyIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsgc3Ryb2tlLWRhc2hhcnJheTogNy4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjQ3Mi44MTcsODguNDIxLDQ3NC41NDAzLDk4LjExNzksNDc1LjYxNTgsOTIuNTY0Miw0ODEuMTY5NSw5My42Mzk4LDQ3Mi44MTcsODguNDIxIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9Ijc3IiB4PSI1MzAiIHk9IjE2NC4wNjY5Ij51cGRhdGUgTkxSSTwvdGV4dD48IS0tTUQ1PVs5MTU3ZjRiMGQ5MGRhZDc5NzQ4ZjBkMTJhNGRmNmQ5Zl0KbGluayBzZXJ2aWNlMSB0byBwb2QxLS0+PHBhdGggZD0iTTI0OS40OTEsMzIwLjE5MyBDMjIxLjcyOCwzMzcuNTQ1IDE4My40ODQsMzYxLjQ0OCAxNTYuNzM1LDM3OC4xNjU1ICIgZmlsbD0ibm9uZSIgaWQ9InNlcnZpY2UxLSZndDtwb2QxIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjE1Mi4yMTMsMzgwLjk5MjEsMTYxLjk2NSwzNzkuNjE0MSwxNTYuNDUzLDM3OC4zNDIxLDE1Ny43MjUsMzcyLjgzMDEsMTUyLjIxMywzODAuOTkyMSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bYTA4YWU3ZmEyNWFkMDQwMzA5ZjJmNGNjMGE5YzMwOTZdCmxpbmsgc2VydmljZTEgdG8gcG9kMi0tPjxwYXRoIGQ9Ik0yODUsMzIwLjE5MyBDMjg1LDMzNi42MzMgMjg1LDM1OC45NTMgMjg1LDM3NS40NzE1ICIgZmlsbD0ibm9uZSIgaWQ9InNlcnZpY2UxLSZndDtwb2QyIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjI4NSwzODAuODM0MywyODksMzcxLjgzNDMsMjg1LDM3NS44MzQzLDI4MSwzNzEuODM0MywyODUsMzgwLjgzNDMiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9W2YxZGQxZmU5OGMwOThjYmZmZWFmNjQ0MzIwYmQ1MGQ3XQpsaW5rIHNlcnZpY2UyIHRvIHBvZDMtLT48cGF0aCBkPSJNNDU5LjIxOSwzMjAuMTkzIEM0NjAuODYzLDMzNi42MzMgNDYzLjA5NSwzNTguOTUzIDQ2NC43NDcsMzc1LjQ3MTUgIiBmaWxsPSJub25lIiBpZD0ic2VydmljZTItJmd0O3BvZDMiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDY1LjI4MywzODAuODM0Myw0NjguMzY3MywzNzEuNDgwOSw0NjQuNzg1MywzNzUuODU5MSw0NjAuNDA3MSwzNzIuMjc3MSw0NjUuMjgzLDM4MC44MzQzIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48L2c+PC9zdmc+" alt=""/>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
MetalLB 的BGP协议支持 <code>Cluster</code> 和 <code>Local</code> 两种策略，只有 <code>Local</code> 才能避免水平流量，参考 <a href="https://metallb.universe.tf/usage/" class="bare">https://metallb.universe.tf/usage/</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_gratuitous_arp">2.2.2. Gratuitous ARP</h4>
<div class="paragraph">
<p>如果没有BGP路由，MetalLB使用了一个简单的方法，直接在二层网络发送Gratuitous ARP，将External IP和实际node的mac地址绑定，这样也可以让上层路由找到对应的node。但这个方案有明显的缺点，一是External IP必须在上层网络的网段里面，可能需要保留大量ip供service使用，二是Gratuitous ARP并不是个可靠的负载均衡协议。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ingress_controller">3. Ingress controller</h2>
<div class="sectionbody">
<div class="paragraph">
<p>上面讲都是在3层网络上的负载均衡，而更常用的7层负载均衡在k8s中是通过Ingress实现的。Ingress可以通过service selector获得pod列表，形成一致性hash环，然后根据配置的均衡策略直接转发请求到后端。k8s 自身维护了一个基于 openresty(nginx) 的 ingress controller，controller本身也需要通过service暴露到外部（我更喜欢部署为DaemonSet直接监听在主机网络上），其网络结构大致如下：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U2NyaXB0VHlwZT0iYXBwbGljYXRpb24vZWNtYXNjcmlwdCIgY29udGVudFN0eWxlVHlwZT0idGV4dC9jc3MiIGhlaWdodD0iNDMycHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo1NTFweDtoZWlnaHQ6NDMycHg7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1NTEgNDMyIiB3aWR0aD0iNTUxcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbdGV4dHtmb250LWZhbWlseTpLYWlHZW4gR290aGljIENOLE1pY3Jvc29mdCBZYUhlaSxBcmlhbCxzYW5zLXNlcmlmfV1dPjwvc3R5bGU+PGRlZnMvPjxnPjwhLS1NRDU9WzJjMGViMDkwZGI4YjIxZTcwOTgzN2I2YTFjNGRjMDM5XQpjbHVzdGVyIE5vZGUtLT48cG9seWdvbiBmaWxsPSIjRjVGMkYwIiBwb2ludHM9IjIyMiw5MSwyMjIsOTEuMjEwMiwyMzEuOTM3NSw5MC41ODU3LDI0MS44NzUsOTEuMTkzMywyNTEuODEyNSw5MS4zOTk3LDI2MS43NSw5MC4yODY2LDI3MS42ODc1LDkwLjkyMjMsMjgxLjYyNSw5MC41NzM1LDI5MS41NjI1LDkwLjYxNjUsMzAxLjUsOTAuOTMxOCwzMTEuNDM3NSw5MC4zMDg2LDMyMS4zNzUsOTEuNTUzNiwzMzEuMzEyNSw5MC4zNjk3LDM0MS4yNSw5MC44MDIyLDM1MS4xODc1LDkxLjQzMTksMzYxLjEyNSw5MC45MTQyLDM3MS4wNjI1LDkxLjA2ODIsMzgxLDkwLjk2ODEsMzkwLjkzNzUsOTEuMTc4NSw0MDAuODc1LDkxLjIzOTEsNDEwLjgxMjUsOTEuNTg1Nyw0MjAuNzUsOTEuNjcxMSw0MzAuNjg3NSw5MS42NzkzLDQ0MC42MjUsOTEuMjU0Niw0NTAuNTYyNSw5MS40NjM2LDQ2MC41LDkxLjcwMjIsNDcwLjQzNzUsOTAuMjc4OCw0ODAuMzc1LDkxLjY3ODUsNDkwLjMxMjUsOTAuNzAzNSw1MDAuMjUsOTEuNTMzOCw1MTAuMTg3NSw5MC41MDUsNTIwLjEyNSw5MC45MzE1LDUzMC4wNjI1LDkxLjc0MTYsNTQwLDkxLDUzOS45NTEzLDkxLDU0MC4xMDUzLDEwMSw1NDAuMzM4NiwxMTEsNTQwLjQxNjIsMTIxLDUzOS45OTYxLDEzMSw1NDAuMjg3MiwxNDEsNTM5LjQyNzYsMTUxLDU0MC4yODQ0LDE2MSw1NDAuNTQ4MiwxNzEsNTQwLjQ0NDUsMTgxLDU0MC42MTMsMTkxLDUzOS41MTY5LDIwMSw1MzkuMzQ3OCwyMTEsNTM5LjM3ODYsMjIxLDUzOS45NDExLDIzMSw1MzkuODAzNSwyNDEsNTQwLjY4MTQsMjUxLDUzOS44MjUzLDI2MSw1MzkuNjU2OSwyNzEsNTQwLjIyODMsMjgxLDUzOS4zMzMyLDI5MSw1MzkuNDgwOSwzMDEsNTQwLjY0OSwzMTEsNTQwLjQzNTcsMzIxLDU0MC43MzQ1LDMzMSw1MzkuNjc4MiwzNDEsNTQwLjMxOTIsMzUxLDU0MC41OTA0LDM2MSw1MzkuNTI3NiwzNzEsNTM5LjkwNDEsMzgxLDU0MC4xMjYsMzkxLDU0MC42NTE4LDQwMSw1MzkuOTk1OCw0MTEsNTQwLDQyMSw1NDAsNDIxLjQ2MjYsNTMwLjA2MjUsNDIwLjQ0NjIsNTIwLjEyNSw0MjAuMzIyNyw1MTAuMTg3NSw0MjEuNTAzNiw1MDAuMjUsNDIwLjI4MzEsNDkwLjMxMjUsNDIxLjUwOSw0ODAuMzc1LDQyMS4yMDY2LDQ3MC40Mzc1LDQyMC43MzIxLDQ2MC41LDQyMC42NDYyLDQ1MC41NjI1LDQyMS40NTg4LDQ0MC42MjUsNDIwLjcwMDcsNDMwLjY4NzUsNDIxLjU5MTksNDIwLjc1LDQyMC40NDczLDQxMC44MTI1LDQyMS42MTc0LDQwMC44NzUsNDIxLjQ4NDMsMzkwLjkzNzUsNDIxLjI0NSwzODEsNDIxLjA0NzIsMzcxLjA2MjUsNDIxLjcyNjYsMzYxLjEyNSw0MjEuNjEzNiwzNTEuMTg3NSw0MjEuMTY5MywzNDEuMjUsNDIxLjI2ODIsMzMxLjMxMjUsNDIwLjg2OTcsMzIxLjM3NSw0MjEuNzE2NSwzMTEuNDM3NSw0MjEuMTU0OSwzMDEuNSw0MjEuMTcyNiwyOTEuNTYyNSw0MjAuMzkxNiwyODEuNjI1LDQyMC41OTQ4LDI3MS42ODc1LDQyMS41MzA3LDI2MS43NSw0MjEuNDI5OCwyNTEuODEyNSw0MjAuOTU3MSwyNDEuODc1LDQyMC42Nzc4LDIzMS45Mzc1LDQyMC43ODExLDIyMiw0MjEsMjIxLjMxMzgsNDIxLDIyMi40MTQ3LDQxMSwyMjIuNzM5Niw0MDEsMjIyLjUyNjQsMzkxLDIyMi42OTQ5LDM4MSwyMjEuODYzMywzNzEsMjIyLjA4NzIsMzYxLDIyMS42MTI0LDM1MSwyMjIuMjg0LDM0MSwyMjIuMjQ2OCwzMzEsMjIyLjU1MjQsMzIxLDIyMS43NzAzLDMxMSwyMjEuODY1NiwzMDEsMjIyLjQ0MzUsMjkxLDIyMi41NjczLDI4MSwyMjEuNDg3NSwyNzEsMjIxLjgwNjEsMjYxLDIyMi4xNDkzLDI1MSwyMjEuMzg5MiwyNDEsMjIyLjM1MzQsMjMxLDIyMi4yNTgsMjIxLDIyMS44OTkyLDIxMSwyMjIuMTQyMiwyMDEsMjIyLjcyODcsMTkxLDIyMS42ODcxLDE4MSwyMjIuMzE1LDE3MSwyMjIuMjg1NiwxNjEsMjIyLjExNTgsMTUxLDIyMi4xNDA5LDE0MSwyMjIuMTEzNSwxMzEsMjIxLjM3NTgsMTIxLDIyMS41OTkyLDExMSwyMjEuNTM4NSwxMDEsMjIyLDkxIiBzdHlsZT0ic3Ryb2tlOiAjQ0NDQ0NDOyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nQW5kR2x5cGhzIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMzYwLjUiIHk9IjEwNS45OTUxIj5Ob2RlPC90ZXh0PjwhLS1NRDU9WzgzMDU5ZGYzZWQ0NDg4YjBlNTUyZWI5YWEyNmUwMDE1XQpjbHVzdGVyIG5vZGUyLS0+PHBvbHlnb24gZmlsbD0iI0Y1RjJGMCIgcG9pbnRzPSIyMiw5MSwyMiw5MS4yMTAyLDMxLjc3NzgsOTAuNTg1Nyw0MS41NTU2LDkxLjE5MzMsNTEuMzMzMyw5MS4zOTk3LDYxLjExMTEsOTAuMjg2Niw3MC44ODg5LDkwLjkyMjMsODAuNjY2Nyw5MC41NzM1LDkwLjQ0NDQsOTAuNjE2NSwxMDAuMjIyMiw5MC45MzE4LDExMCw5MC4zMDg2LDExOS43Nzc4LDkxLjU1MzYsMTI5LjU1NTYsOTAuMzY5NywxMzkuMzMzMyw5MC44MDIyLDE0OS4xMTExLDkxLjQzMTksMTU4Ljg4ODksOTAuOTE0MiwxNjguNjY2Nyw5MS4wNjgyLDE3OC40NDQ0LDkwLjk2ODEsMTg4LjIyMjIsOTEuMTc4NSwxOTgsOTEsMTk4LjIzOTEsOTEsMTk4LjU4NTcsMTAxLDE5OC42NzExLDExMSwxOTguNjc5MywxMjEsMTk4LjI1NDYsMTMxLDE5OC40NjM2LDE0MSwxOTguNzAyMiwxNTEsMTk3LjI3ODgsMTYxLDE5OC42Nzg1LDE3MSwxOTcuNzAzNSwxODEsMTk4LjUzMzgsMTkxLDE5Ny41MDUsMjAxLDE5Ny45MzE1LDIxMSwxOTguNzQxNiwyMjEsMTk3Ljk1MTMsMjMxLDE5OC4xMDUzLDI0MSwxOTguMzM4NiwyNTEsMTk4LjQxNjIsMjYxLDE5Ny45OTYxLDI3MSwxOTguMjg3MiwyODEsMTk3LjQyNzYsMjkxLDE5OC4yODQ0LDMwMSwxOTguNTQ4MiwzMTEsMTk4LjQ0NDUsMzIxLDE5OC42MTMsMzMxLDE5Ny41MTY5LDM0MSwxOTcuMzQ3OCwzNTEsMTk3LjM3ODYsMzYxLDE5Ny45NDExLDM3MSwxOTcuODAzNSwzODEsMTk4LjY4MTQsMzkxLDE5Ny44MjUzLDQwMSwxOTcuNjU2OSw0MTEsMTk4LDQyMSwxOTgsNDIxLjIyODMsMTg4LjIyMjIsNDIwLjMzMzIsMTc4LjQ0NDQsNDIwLjQ4MDksMTY4LjY2NjcsNDIxLjY0OSwxNTguODg4OSw0MjEuNDM1NywxNDkuMTExMSw0MjEuNzM0NSwxMzkuMzMzMyw0MjAuNjc4MiwxMjkuNTU1Niw0MjEuMzE5MiwxMTkuNzc3OCw0MjEuNTkwNCwxMTAsNDIwLjUyNzYsMTAwLjIyMjIsNDIwLjkwNDEsOTAuNDQ0NCw0MjEuMTI2LDgwLjY2NjcsNDIxLjY1MTgsNzAuODg4OSw0MjAuOTk1OCw2MS4xMTExLDQyMS40NjI2LDUxLjMzMzMsNDIwLjQ0NjIsNDEuNTU1Niw0MjAuMzIyNywzMS43Nzc4LDQyMS41MDM2LDIyLDQyMSwyMS4yODMxLDQyMSwyMi41MDksNDExLDIyLjIwNjYsNDAxLDIxLjczMjEsMzkxLDIxLjY0NjIsMzgxLDIyLjQ1ODgsMzcxLDIxLjcwMDcsMzYxLDIyLjU5MTksMzUxLDIxLjQ0NzMsMzQxLDIyLjYxNzQsMzMxLDIyLjQ4NDMsMzIxLDIyLjI0NSwzMTEsMjIuMDQ3MiwzMDEsMjIuNzI2NiwyOTEsMjIuNjEzNiwyODEsMjIuMTY5MywyNzEsMjIuMjY4MiwyNjEsMjEuODY5NywyNTEsMjIuNzE2NSwyNDEsMjIuMTU0OSwyMzEsMjIuMTcyNiwyMjEsMjEuMzkxNiwyMTEsMjEuNTk0OCwyMDEsMjIuNTMwNywxOTEsMjIuNDI5OCwxODEsMjEuOTU3MSwxNzEsMjEuNjc3OCwxNjEsMjEuNzgxMSwxNTEsMjEuMzEzOCwxNDEsMjIuNDE0NywxMzEsMjIuNzM5NiwxMjEsMjIuNTI2NCwxMTEsMjIuNjk0OSwxMDEsMjIsOTEiIHN0eWxlPSJzdHJva2U6ICNDQ0NDQ0M7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjQxIiB4PSI4OS41IiB5PSIxMDUuOTk1MSI+Tm9kZTwvdGV4dD48IS0tTUQ1PVtlOTM3NzgzZDE1MWQ3OGM5ZTg3ZmQ0YzBkOTlmNzQ4NV0KZW50aXR5IHByb3h5LS0+PHBvbHlnb24gZmlsbD0iI0RGRjBEOCIgcG9pbnRzPSIyMzguNSwxMjYsMjM4LjUsMTI2LjIxMDIsMjQ4LjcxNDMsMTI1LjU4NTcsMjU4LjkyODYsMTI2LjE5MzMsMjY5LjE0MjksMTI2LjM5OTcsMjc5LjM1NzEsMTI1LjI4NjYsMjg5LjU3MTQsMTI1LjkyMjMsMjk5Ljc4NTcsMTI1LjU3MzUsMzEwLDEyNS42MTY1LDMyMC4yMTQzLDEyNS45MzE4LDMzMC40Mjg2LDEyNS4zMDg2LDM0MC42NDI5LDEyNi41NTM2LDM1MC44NTcxLDEyNS4zNjk3LDM2MS4wNzE0LDEyNS44MDIyLDM3MS4yODU3LDEyNi40MzE5LDM4MS41LDEyNiwzODEuNDE0MiwxMjYsMzgxLjU2ODIsMTM2LjUxODgsMzgxLjQ2ODEsMTQ3LjAzNzUsMzgxLjY3ODUsMTU3LjU1NjMsMzgxLjczOTEsMTY4LjA3NSwzODEuNSwxNzguNTkzOCwzODEuNSwxNzkuMTc5NCwzNzEuMjg1NywxNzkuMjY0OCwzNjEuMDcxNCwxNzkuMjczLDM1MC44NTcxLDE3OC44NDg0LDM0MC42NDI5LDE3OS4wNTczLDMzMC40Mjg2LDE3OS4yOTYsMzIwLjIxNDMsMTc3Ljg3MjYsMzEwLDE3OS4yNzIzLDI5OS43ODU3LDE3OC4yOTcyLDI4OS41NzE0LDE3OS4xMjc2LDI3OS4zNTcxLDE3OC4wOTg3LDI2OS4xNDI5LDE3OC41MjUzLDI1OC45Mjg2LDE3OS4zMzU0LDI0OC43MTQzLDE3OC41NDUsMjM4LjUsMTc4LjU5MzgsMjM4LjYwNTMsMTc4LjU5MzgsMjM4LjgzODYsMTY4LjA3NSwyMzguOTE2MiwxNTcuNTU2MywyMzguNDk2MSwxNDcuMDM3NSwyMzguNzg3MiwxMzYuNTE4OCwyMzguNSwxMjYiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzciIHg9IjI3MS41IiB5PSIxNDguOTk1MSI+a3ViZS1wcm94eTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEyMyIgeD0iMjQ4LjUiIHk9IjE2NS4yOTIiPihMaXN0ZW4gbm9kZSBwb3J0KTwvdGV4dD48IS0tTUQ1PVthMWQ0OGJmNzIxZjA5MmRjYTEyMzI0OGVhNTY2MGY5Nl0KZW50aXR5IGluZ3Jlc3MxLS0+PHBvbHlnb24gZmlsbD0iI0RGRjBEOCIgcG9pbnRzPSIyMzksMjU2LDIzOSwyNTYuMjEwMiwyNDguODU3MSwyNTUuNTg1NywyNTguNzE0MywyNTYuMTkzMywyNjguNTcxNCwyNTYuMzk5NywyNzguNDI4NiwyNTUuMjg2NiwyODguMjg1NywyNTUuOTIyMywyOTguMTQyOSwyNTUuNTczNSwzMDgsMjU1LjYxNjUsMzE3Ljg1NzEsMjU1LjkzMTgsMzI3LjcxNDMsMjU1LjMwODYsMzM3LjU3MTQsMjU2LjU1MzYsMzQ3LjQyODYsMjU1LjM2OTcsMzU3LjI4NTcsMjU1LjgwMjIsMzY3LjE0MjksMjU2LjQzMTksMzc3LDI1NiwzNzYuOTcxNCwyNTYsMzc3LjAyMjcsMjYzLjI1OTQsMzc2Ljk4OTQsMjcwLjUxODgsMzc3LjA1OTUsMjc3Ljc3ODEsMzc3LjA3OTcsMjg1LjAzNzUsMzc3LDI5Mi4yOTY5LDM3NywyOTIuODgyNiwzNjcuMTQyOSwyOTIuOTY3OSwzNTcuMjg1NywyOTIuOTc2MSwzNDcuNDI4NiwyOTIuNTUxNSwzMzcuNTcxNCwyOTIuNzYwNSwzMjcuNzE0MywyOTIuOTk5MSwzMTcuODU3MSwyOTEuNTc1NywzMDgsMjkyLjk3NTQsMjk4LjE0MjksMjkyLjAwMDQsMjg4LjI4NTcsMjkyLjgzMDcsMjc4LjQyODYsMjkxLjgwMTksMjY4LjU3MTQsMjkyLjIyODQsMjU4LjcxNDMsMjkzLjAzODUsMjQ4Ljg1NzEsMjkyLjI0ODEsMjM5LDI5Mi4yOTY5LDIzOS4wMzUxLDI5Mi4yOTY5LDIzOS4xMTI5LDI4NS4wMzc1LDIzOS4xMzg3LDI3Ny43NzgxLDIzOC45OTg3LDI3MC41MTg4LDIzOS4wOTU3LDI2My4yNTk0LDIzOSwyNTYiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTE4IiB4PSIyNDkiIHk9IjI3OC45OTUxIj5JbmdyZXNzIENvbnRyb2wgMTwvdGV4dD48IS0tTUQ1PVs0MDczNjU0MWZkMjQ3N2M1YjMxYmU1ZjU0N2ZjODk5NF0KZW50aXR5IHBvZDEtLT48cG9seWdvbiBmaWxsPSIjREZGMEQ4IiBwb2ludHM9IjM5OC41LDM2OSwzOTguNSwzNjkuMjEwMiw0MDguMTE1NCwzNjguNTg1Nyw0MTcuNzMwOCwzNjkuMTkzMyw0MjcuMzQ2MiwzNjkuMzk5Nyw0MzYuOTYxNSwzNjguMjg2Niw0NDYuNTc2OSwzNjguOTIyMyw0NTYuMTkyMywzNjguNTczNSw0NjUuODA3NywzNjguNjE2NSw0NzUuNDIzMSwzNjguOTMxOCw0ODUuMDM4NSwzNjguMzA4Niw0OTQuNjUzOCwzNjkuNTUzNiw1MDQuMjY5MiwzNjguMzY5Nyw1MTMuODg0NiwzNjguODAyMiw1MjMuNSwzNjksNTIzLjY0NCwzNjksNTIzLjQ3MTQsMzc2LjI1OTQsNTIzLjUyMjcsMzgzLjUxODgsNTIzLjQ4OTQsMzkwLjc3ODEsNTIzLjU1OTUsMzk4LjAzNzUsNTIzLjUsNDA1LjI5NjksNTIzLjUsNDA1LjUzNiw1MTMuODg0Niw0MDUuODgyNiw1MDQuMjY5Miw0MDUuOTY3OSw0OTQuNjUzOCw0MDUuOTc2MSw0ODUuMDM4NSw0MDUuNTUxNSw0NzUuNDIzMSw0MDUuNzYwNSw0NjUuODA3Nyw0MDUuOTk5MSw0NTYuMTkyMyw0MDQuNTc1Nyw0NDYuNTc2OSw0MDUuOTc1NCw0MzYuOTYxNSw0MDUuMDAwNCw0MjcuMzQ2Miw0MDUuODMwNyw0MTcuNzMwOCw0MDQuODAxOSw0MDguMTE1NCw0MDUuMjI4NCwzOTguNSw0MDUuMjk2OSwzOTguNzQ3Miw0MDUuMjk2OSwzOTguNDgzOCwzOTguMDM3NSwzOTguNTM1MSwzOTAuNzc4MSwzOTguNjEyOSwzODMuNTE4OCwzOTguNjM4NywzNzYuMjU5NCwzOTguNSwzNjkiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSI0MDguNSIgeT0iMzkxLjk5NTEiPkJhY2tlbmQgUG9kIDE8L3RleHQ+PCEtLU1ENT1bZDM3YTA3Y2FlNjNjNjZkNTc0Yzk5ZGQ4MWI1YThmZDNdCmVudGl0eSBwb2QyLS0+PHBvbHlnb24gZmlsbD0iI0RGRjBEOCIgcG9pbnRzPSIyMzguNSwzNjksMjM4LjUsMzY5LjIxMDIsMjQ4LjExNTQsMzY4LjU4NTcsMjU3LjczMDgsMzY5LjE5MzMsMjY3LjM0NjIsMzY5LjM5OTcsMjc2Ljk2MTUsMzY4LjI4NjYsMjg2LjU3NjksMzY4LjkyMjMsMjk2LjE5MjMsMzY4LjU3MzUsMzA1LjgwNzcsMzY4LjYxNjUsMzE1LjQyMzEsMzY4LjkzMTgsMzI1LjAzODUsMzY4LjMwODYsMzM0LjY1MzgsMzY5LjU1MzYsMzQ0LjI2OTIsMzY4LjM2OTcsMzUzLjg4NDYsMzY4LjgwMjIsMzYzLjUsMzY5LDM2My42NDQsMzY5LDM2My40NzE0LDM3Ni4yNTk0LDM2My41MjI3LDM4My41MTg4LDM2My40ODk0LDM5MC43NzgxLDM2My41NTk1LDM5OC4wMzc1LDM2My41LDQwNS4yOTY5LDM2My41LDQwNS41MzYsMzUzLjg4NDYsNDA1Ljg4MjYsMzQ0LjI2OTIsNDA1Ljk2NzksMzM0LjY1MzgsNDA1Ljk3NjEsMzI1LjAzODUsNDA1LjU1MTUsMzE1LjQyMzEsNDA1Ljc2MDUsMzA1LjgwNzcsNDA1Ljk5OTEsMjk2LjE5MjMsNDA0LjU3NTcsMjg2LjU3NjksNDA1Ljk3NTQsMjc2Ljk2MTUsNDA1LjAwMDQsMjY3LjM0NjIsNDA1LjgzMDcsMjU3LjczMDgsNDA0LjgwMTksMjQ4LjExNTQsNDA1LjIyODQsMjM4LjUsNDA1LjI5NjksMjM4Ljc0NzIsNDA1LjI5NjksMjM4LjQ4MzgsMzk4LjAzNzUsMjM4LjUzNTEsMzkwLjc3ODEsMjM4LjYxMjksMzgzLjUxODgsMjM4LjYzODcsMzc2LjI1OTQsMjM4LjUsMzY5IiBzdHlsZT0ic3Ryb2tlOiAjNDY4ODQ3OyBzdHJva2Utd2lkdGg6IDEuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEwNSIgeD0iMjQ4LjUiIHk9IjM5MS45OTUxIj5CYWNrZW5kIFBvZCAyPC90ZXh0PjwhLS1NRDU9WzM2MGY1YjdmN2U1NzY3YWIwNDAyM2QwZDAwMGMyZjg5XQplbnRpdHkgcHJveHkyLS0+PHBvbHlnb24gZmlsbD0iI0RGRjBEOCIgcG9pbnRzPSIzOC41LDEyNiwzOC41LDEyNi4yMTAyLDQ4LjcxNDMsMTI1LjU4NTcsNTguOTI4NiwxMjYuMTkzMyw2OS4xNDI5LDEyNi4zOTk3LDc5LjM1NzEsMTI1LjI4NjYsODkuNTcxNCwxMjUuOTIyMyw5OS43ODU3LDEyNS41NzM1LDExMCwxMjUuNjE2NSwxMjAuMjE0MywxMjUuOTMxOCwxMzAuNDI4NiwxMjUuMzA4NiwxNDAuNjQyOSwxMjYuNTUzNiwxNTAuODU3MSwxMjUuMzY5NywxNjEuMDcxNCwxMjUuODAyMiwxNzEuMjg1NywxMjYuNDMxOSwxODEuNSwxMjYsMTgxLjQxNDIsMTI2LDE4MS41NjgyLDEzNi41MTg4LDE4MS40NjgxLDE0Ny4wMzc1LDE4MS42Nzg1LDE1Ny41NTYzLDE4MS43MzkxLDE2OC4wNzUsMTgxLjUsMTc4LjU5MzgsMTgxLjUsMTc5LjE3OTQsMTcxLjI4NTcsMTc5LjI2NDgsMTYxLjA3MTQsMTc5LjI3MywxNTAuODU3MSwxNzguODQ4NCwxNDAuNjQyOSwxNzkuMDU3MywxMzAuNDI4NiwxNzkuMjk2LDEyMC4yMTQzLDE3Ny44NzI2LDExMCwxNzkuMjcyMyw5OS43ODU3LDE3OC4yOTcyLDg5LjU3MTQsMTc5LjEyNzYsNzkuMzU3MSwxNzguMDk4Nyw2OS4xNDI5LDE3OC41MjUzLDU4LjkyODYsMTc5LjMzNTQsNDguNzE0MywxNzguNTQ1LDM4LjUsMTc4LjU5MzgsMzguNjA1MywxNzguNTkzOCwzOC44Mzg2LDE2OC4wNzUsMzguOTE2MiwxNTcuNTU2MywzOC40OTYxLDE0Ny4wMzc1LDM4Ljc4NzIsMTM2LjUxODgsMzguNSwxMjYiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iNzciIHg9IjcxLjUiIHk9IjE0OC45OTUxIj5rdWJlLXByb3h5PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTIzIiB4PSI0OC41IiB5PSIxNjUuMjkyIj4oTGlzdGVuIG5vZGUgcG9ydCk8L3RleHQ+PCEtLU1ENT1bYTgyOGY0MWRiOWNjNWU1YWVmMjFjOTkxNmVlNDhjNDBdCmVudGl0eSBpbmdyZXNzMi0tPjxwb2x5Z29uIGZpbGw9IiNERkYwRDgiIHBvaW50cz0iNDQsMjU2LDQ0LDI1Ni4yMTAyLDUzLjg1NzEsMjU1LjU4NTcsNjMuNzE0MywyNTYuMTkzMyw3My41NzE0LDI1Ni4zOTk3LDgzLjQyODYsMjU1LjI4NjYsOTMuMjg1NywyNTUuOTIyMywxMDMuMTQyOSwyNTUuNTczNSwxMTMsMjU1LjYxNjUsMTIyLjg1NzEsMjU1LjkzMTgsMTMyLjcxNDMsMjU1LjMwODYsMTQyLjU3MTQsMjU2LjU1MzYsMTUyLjQyODYsMjU1LjM2OTcsMTYyLjI4NTcsMjU1LjgwMjIsMTcyLjE0MjksMjU2LjQzMTksMTgyLDI1NiwxODEuOTcxNCwyNTYsMTgyLjAyMjcsMjYzLjI1OTQsMTgxLjk4OTQsMjcwLjUxODgsMTgyLjA1OTUsMjc3Ljc3ODEsMTgyLjA3OTcsMjg1LjAzNzUsMTgyLDI5Mi4yOTY5LDE4MiwyOTIuODgyNiwxNzIuMTQyOSwyOTIuOTY3OSwxNjIuMjg1NywyOTIuOTc2MSwxNTIuNDI4NiwyOTIuNTUxNSwxNDIuNTcxNCwyOTIuNzYwNSwxMzIuNzE0MywyOTIuOTk5MSwxMjIuODU3MSwyOTEuNTc1NywxMTMsMjkyLjk3NTQsMTAzLjE0MjksMjkyLjAwMDQsOTMuMjg1NywyOTIuODMwNyw4My40Mjg2LDI5MS44MDE5LDczLjU3MTQsMjkyLjIyODQsNjMuNzE0MywyOTMuMDM4NSw1My44NTcxLDI5Mi4yNDgxLDQ0LDI5Mi4yOTY5LDQ0LjAzNTEsMjkyLjI5NjksNDQuMTEyOSwyODUuMDM3NSw0NC4xMzg3LDI3Ny43NzgxLDQzLjk5ODcsMjcwLjUxODgsNDQuMDk1NywyNjMuMjU5NCw0NCwyNTYiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTE4IiB4PSI1NCIgeT0iMjc4Ljk5NTEiPkluZ3Jlc3MgQ29udHJvbCAyPC90ZXh0PjwhLS1NRDU9WzA4MDRlZTA2MTVlYWMxODI4ZDhlYTdkNDZiOTRhNzc5XQplbnRpdHkgcG9kMy0tPjxwb2x5Z29uIGZpbGw9IiNERkYwRDgiIHBvaW50cz0iNTQuNSwzNjksNTQuNSwzNjkuMjEwMiw2NC4xMTU0LDM2OC41ODU3LDczLjczMDgsMzY5LjE5MzMsODMuMzQ2MiwzNjkuMzk5Nyw5Mi45NjE1LDM2OC4yODY2LDEwMi41NzY5LDM2OC45MjIzLDExMi4xOTIzLDM2OC41NzM1LDEyMS44MDc3LDM2OC42MTY1LDEzMS40MjMxLDM2OC45MzE4LDE0MS4wMzg1LDM2OC4zMDg2LDE1MC42NTM4LDM2OS41NTM2LDE2MC4yNjkyLDM2OC4zNjk3LDE2OS44ODQ2LDM2OC44MDIyLDE3OS41LDM2OSwxNzkuNjQ0LDM2OSwxNzkuNDcxNCwzNzYuMjU5NCwxNzkuNTIyNywzODMuNTE4OCwxNzkuNDg5NCwzOTAuNzc4MSwxNzkuNTU5NSwzOTguMDM3NSwxNzkuNSw0MDUuMjk2OSwxNzkuNSw0MDUuNTM2LDE2OS44ODQ2LDQwNS44ODI2LDE2MC4yNjkyLDQwNS45Njc5LDE1MC42NTM4LDQwNS45NzYxLDE0MS4wMzg1LDQwNS41NTE1LDEzMS40MjMxLDQwNS43NjA1LDEyMS44MDc3LDQwNS45OTkxLDExMi4xOTIzLDQwNC41NzU3LDEwMi41NzY5LDQwNS45NzU0LDkyLjk2MTUsNDA1LjAwMDQsODMuMzQ2Miw0MDUuODMwNyw3My43MzA4LDQwNC44MDE5LDY0LjExNTQsNDA1LjIyODQsNTQuNSw0MDUuMjk2OSw1NC43NDcyLDQwNS4yOTY5LDU0LjQ4MzgsMzk4LjAzNzUsNTQuNTM1MSwzOTAuNzc4MSw1NC42MTI5LDM4My41MTg4LDU0LjYzODcsMzc2LjI1OTQsNTQuNSwzNjkiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA1IiB4PSI2NC41IiB5PSIzOTEuOTk1MSI+QmFja2VuZCBQb2QgMzwvdGV4dD48IS0tTUQ1PVtiODEyNmM4MTI1MmRlMDQ5YzgyNGE3NTY0ZDQ2YjAzM10KZW50aXR5IGxiLS0+PHBvbHlnb24gZmlsbD0iI0RGRjBEOCIgcG9pbnRzPSIxNzEsOCwxNzEsOC4yMTAyLDE4MC42NjY3LDcuNTg1NywxOTAuMzMzMyw4LjE5MzMsMjAwLDguMzk5NywyMDkuNjY2Nyw3LjI4NjYsMjE5LjMzMzMsNy45MjIzLDIyOSw3LjU3MzUsMjM4LjY2NjcsNy42MTY1LDI0OC4zMzMzLDcuOTMxOCwyNTgsNy4zMDg2LDI2Ny42NjY3LDguNTUzNiwyNzcuMzMzMyw3LjM2OTcsMjg3LDgsMjg2LjkzNDEsOCwyODcuMTQ0LDE1LjI1OTQsMjg2Ljk3MTQsMjIuNTE4OCwyODcuMDIyNywyOS43NzgxLDI4Ni45ODk0LDM3LjAzNzUsMjg3LDQ0LjI5NjksMjg3LDQ0LjQ3NTQsMjc3LjMzMzMsNDQuNTM2LDI2Ny42NjY3LDQ0Ljg4MjYsMjU4LDQ0Ljk2NzksMjQ4LjMzMzMsNDQuOTc2MSwyMzguNjY2Nyw0NC41NTE1LDIyOSw0NC43NjA1LDIxOS4zMzMzLDQ0Ljk5OTEsMjA5LjY2NjcsNDMuNTc1NywyMDAsNDQuOTc1NCwxOTAuMzMzMyw0NC4wMDA0LDE4MC42NjY3LDQ0LjgzMDcsMTcxLDQ0LjI5NjksMTcwLjgzNSw0NC4yOTY5LDE3MC45NzcyLDM3LjAzNzUsMTcxLjI0NzIsMjkuNzc4MSwxNzAuOTgzOCwyMi41MTg3LDE3MS4wMzUxLDE1LjI1OTQsMTcxLDgiIHN0eWxlPSJzdHJva2U6ICM0Njg4NDc7IHN0cm9rZS13aWR0aDogMS41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iOTYiIHg9IjE4MSIgeT0iMzAuOTk1MSI+TG9hZCBiYWxhbmNlcjwvdGV4dD48IS0tTUQ1PVtkODNmY2FiYjg1MjdjMTE1OTFiYjhjMzg5ZDA1MjFhOV0KbGluayBwcm94eSB0byBpbmdyZXNzMS0tPjxwYXRoIGQ9Ik0zMDkuNTcxLDE3OS4xMzYgTDMwOS44NTEyLDE3OS4xNDA3IEwzMDguODQ3NywxODkuMzQ3MiBMMzA5LjQ4NjcsMTk5LjU4MTIgTDMwOS41OTA4LDIwOS44MDYyIEwzMDcuOTM1OSwyMjAuMDAxOCBMMzA4LjYxMjQsMjMwLjIzNjQgTDMwNy45NzY0LDI0MC40NDkxIEwzMDguMzc0LDI1MC42NzkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48cG9seWdvbiBmaWxsPSIjNDY3NDlGIiBwb2ludHM9IjMwOC4yODcsMjU1Ljg3OCwzMDguMzUwNSwyNTUuOTA3NSwzMDguOTkyLDI1NC4wMzM1LDMxMC4wMDU5LDI1Mi4zMzI2LDMxMC44OTg1LDI1MC41NzU0LDMxMS4zOTIzLDI0OC42MzI3LDMxMi40MzgyLDI0Ni45NDY3LDMxMi40MjAyLDI0Ni45MjgxLDMxMS41MjYsMjQ3LjYzMDksMzEwLjcyMjYsMjQ4LjQyNzYsMzA5Ljk4MjMsMjQ5LjI4OTYsMzA5LjAyNDUsMjQ5LjkyNjYsMzA4LjM3MTMsMjUwLjg3ODcsMzA4LjUwNCwyNTEuMDA3LDMwNy40MzM5LDI0OS45MTkzLDMwNi43NTExLDI0OS4yMDYxLDMwNi4xMTU2LDI0OC41Mzg3LDMwNS4yMDUxLDI0Ny42MDUzLDMwNC40MzkzLDI0Ni44MTE4LDMwNC40NjAyLDI0Ni44MjA3LDMwNS4xOTksMjQ4LjYyMDksMzA2LjAzMzIsMjUwLjQ2MTYsMzA2LjgyMTMsMjUyLjI4MjcsMzA3LjY5NzIsMjU0LjE0MSwzMDguMjg3LDI1NS44NzgiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZ0FuZEdseXBocyIgdGV4dExlbmd0aD0iMTA5IiB4PSIzMTAiIHk9IjIyMi4wNjY5Ij5pcCBzZXNzaW9uIGFmZmluaXR5PC90ZXh0PjwhLS1NRDU9W2E3N2Y2MWEzZGEzNjlhNzlkMDFlZjhhNmYxN2YyYmRiXQpsaW5rIGxiIHRvIHByb3h5LS0+PHBhdGggZD0iTTI0MC4wOTMsNDQuMDUgTDI0MC4zMjc5LDQ0LjIwMjggTDI0NS4yMDM2LDUyLjMxNTcgTDI1MS40NTY0LDYxLjMyNDUgTDI1Ny4yNjA3LDcwLjA0MTYgTDI2MS41OTA0LDc3Ljc5OTMgTDI2Ny44NzQ1LDg2LjgyODUgTDI3My4wNTgzLDk1LjE0MTkgTDI3OC42ODAxLDEwMy43NDAyIEwyODQuNjA2MiwxMTIuNTM2NCBMMjkwLjI1NiwxMjEuMTUzICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIyOTMuMTI5LDEyNS41NjksMjkzLjE5ODIsMTI1LjU4MDEsMjkyLjY4MTUsMTIzLjYwMjEsMjkyLjU3MDQsMTIxLjY4OTEsMjkyLjMyNzIsMTE5Ljc1NDksMjkxLjY0OTcsMTE3Ljc1MTMsMjkxLjU3MzUsMTE1Ljg0MzgsMjkxLjU0ODEsMTE1LjgzODQsMjkxLjIwMDEsMTE2LjkyMTIsMjkwLjk3OTksMTE4LjAzMSwyOTAuODQ4NCwxMTkuMTU5NiwyOTAuNDEwOSwxMjAuMjIzNSwyOTAuNDAyMiwxMjEuMzc4LDI5MC40NDA0LDEyMS41NTg2LDI4OS4yNTE4LDEyMC45MzgyLDI4OC4xNzQ4LDEyMC44NDUsMjg3LjExMTQsMTIwLjgxNjEsMjg1Ljk2ODgsMTIwLjQxMywyODQuODY3OSwxMjAuMjA2NywyODQuODgwMywxMjAuMjI1OCwyODYuNTE0MywxMjEuMjcwMiwyODguMjA0NywxMjIuNDAxNSwyODkuODY4LDEyMy40OTA5LDI5MS41ODMxLDEyNC42NjAzLDI5My4xMjksMTI1LjU2OSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNTQ3NDMzNDA2ZDE3MGNiMjU1YTIxZGJiZmY4NDE4NTZdCmxpbmsgbGIgdG8gcHJveHkyLS0+PHBhdGggZD0iTTIxMi43MDMsNDQuMDUgTDIxMi45MDU2LDQ0LjI0MzYgTDIwNS41NTE3LDUwLjczMjMgTDE5OS4zODU1LDU4LjM1NjEgTDE5Mi44MzI1LDY1LjYxMDIgTDE4NS4wMDc4LDcxLjY0ODggTDE3OC44Njg2LDc5LjI5ODQgTDE3MS43ODA1LDg2LjA0MTEgTDE2NS4wNyw5My4xNDQ3IEwxNTguNjIyLDEwMC40OTkyIEwxNTEuMjY5NCwxMDYuOTg5MSBMMTQ1LjcxNzUsMTE1LjIwMDEgTDEzOC40MzIsMTIxLjc1NCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyBzdHJva2UtZGFzaGFycmF5OiA3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iMTM0Ljc4NiwxMjUuNTY5LDEzNC44MTI2LDEyNS42MzM4LDEzNi41NTU1LDEyNC42OTI3LDEzOC40NTQ1LDEyNC4xMzE2LDE0MC4zMDI3LDEyMy40NDY3LDE0MS45ODM3LDEyMi4zNTUsMTQzLjg5NjEsMTIxLjgyNjQsMTQzLjg5NTUsMTIxLjgwMDUsMTQyLjc2MTgsMTIxLjcwOTksMTQxLjYzMSwxMjEuNzQ5OCwxNDAuNTAyMywxMjEuODgwNSwxMzkuMzY2NSwxMjEuNjk4NCwxMzguMjQwNywxMjEuOTU0NCwxMzguNDI1MiwxMjEuOTU4NiwxMzguMDA1LDEyMC44MTg2LDEzOC4xMjM2LDExOS42OTA3LDEzOC4zMDc4LDExOC41NjQ0LDEzOC4xMDk3LDExNy40Mjk0LDEzOC4xMTI3LDExNi4yOTksMTM4LjEzNDEsMTE2LjMwNjcsMTM3LjQzNzMsMTE4LjE0OTQsMTM2LjgzOCwxMjAuMDI3MSwxMzYuMTkxNywxMjEuODg3OSwxMzUuNjM1MSwxMjMuNzgwOSwxMzQuNzg2LDEyNS41NjkiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjwhLS1NRDU9WzZmNGUzM2NhMmFmMGQ0MTY4MThmYWI5NDIxMzVhMzY2XQpsaW5rIHByb3h5MiB0byBpbmdyZXNzMi0tPjxwYXRoIGQ9Ik0xMTAuNjQ0LDE3OS4xMzYgTDExMC45MjQyLDE3OS4xNDMgTDExMC4zNDgzLDE4OS4zNDI2IEwxMTEuNDE0OCwxOTkuNTgzMyBMMTExLjk0NjUsMjA5LjgxMDcgTDExMC43MTk0LDIxOS45OTM4IEwxMTEuODIzMywyMzAuMjM1NSBMMTExLjYxNDksMjQwLjQ0NDMgTDExMi40NCwyNTAuNjc5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIxMTIuNTcsMjU1Ljg3OCwxMTIuNjM0NywyNTUuOTA0OCwxMTMuMTk2OSwyNTQuMDA1NiwxMTQuMTM4NSwyNTIuMjYzNiwxMTQuOTU2NSwyNTAuNDcwNCwxMTUuMzY4MywyNDguNTA4NywxMTYuMzQyNSwyNDYuNzgwMywxMTYuMzIzNywyNDYuNzYyNCwxMTUuNDU5OCwyNDcuNTAyMiwxMTQuNjkwNiwyNDguMzMxOSwxMTMuOTg3MSwyNDkuMjI0MiwxMTMuMDU2OSwyNDkuOTAwOSwxMTIuNDQ0MywyNTAuODc5NiwxMTIuNTcxNSwyNTEuMDEzMywxMTEuNDc5NywyNDkuOTQ3NywxMTAuNzU5MSwyNDkuMjcyNSwxMTAuMDgzOSwyNDguNjQ1LDEwOS4xNDUxLDI0Ny43NDAzLDEwOC4zNDUsMjQ2Ljk4MTQsMTA4LjM2NTUsMjQ2Ljk5MTIsMTA5LjE4MDQsMjQ4Ljc1NjIsMTEwLjA4ODcsMjUwLjU2NTYsMTEwLjk1MiwyNTIuMzUzNiwxMTEuOTAxNCwyNTQuMTgyNCwxMTIuNTcsMjU1Ljg3OCIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bZDgxMGNlNDc0MGE4MmZlY2E1OTEwN2Y3NmQ5OTJhNWFdCmxpbmsgaW5ncmVzczEgdG8gcG9kMS0tPjxwYXRoIGQ9Ik0zMzEuNTcxLDI5Mi4xIEwzMzEuNzM1NiwyOTIuMzI2OCBMMzM5LjA2NjgsMjk3LjMyNjMgTDM0Ny4zNjI2LDMwMy42NTU1IEwzNTUuMzQ0NCwzMDkuNTUxNyBMMzYyLjI5MywzMTQuMDIzOSBMMzcwLjYxMDksMzIwLjM4MzQgTDM3OC4xNTgsMzI1LjY4MDUgTDM4Ni4wMTE4LDMzMS40MDAzIEwzOTQuMDc4OSwzMzcuNDE0MSBMNDAxLjQxMTEsMzQyLjQxNSBMNDEwLjIwNiwzNDkuNDMyMSBMNDE3LjA5OTIsMzUzLjgyNzkgTDQyNS4yNTgsMzU5Ljk2ODEgTDQzMy4yMzMsMzY1Ljg1NSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iNDM3LjQwMiwzNjguODgwMSw0MzcuNDYyNiwzNjguOTE1Miw0MzYuMjk1NiwzNjcuMTA2Miw0MzUuNDgzOSwzNjUuNTAzLDQzNC41NTY2LDM2My44MzI3LDQzMy4yNDg2LDM2MS45NDIxLDQzMi40Njc1LDM2MC4zNTY2LDQzMi40NDE5LDM2MC4zNTI1LDQzMi41MDQ2LDM2MS40NTE2LDQzMi42OTY0LDM2Mi41NzEyLDQzMi45Nzc4LDM2My43MDUxLDQzMi45NTAyLDM2NC43ODk4LDQzMy4zNTU0LDM2NS45NDMzLDQzMy4zODQzLDM2Ni4xMjU2LDQzMi4yMDUsMzY1LjkxMzQsNDMxLjExMDMsMzY2LjIzMzQsNDMwLjAyNTksMzY2LjYxODMsNDI4Ljg4MTUsMzY2LjYyNTQsNDI3Ljc2ODYsMzY2LjgzMTIsNDI3Ljc3MzMsMzY2Ljg1MzUsNDI5LjY5MzEsMzY3LjIzMDYsNDMxLjYzNDQsMzY3LjcwOSw0MzMuNTY1MiwzNjguMTM4NSw0MzUuNTE1OSwzNjguNjYxMyw0MzcuNDAyLDM2OC44ODAxIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmdBbmRHbHlwaHMiIHRleHRMZW5ndGg9IjEyNCIgeD0iMzk0IiB5PSIzMzUuMDY2OSI+aHR0cCBzZXNzaW9uIGFmZmluaXR5PC90ZXh0PjwhLS1NRDU9W2Y3YTQ2MWYxNDQyMzdiZTVlYzE0Mzg2ZDIxOTU3NmI2XQpsaW5rIGluZ3Jlc3MxIHRvIHBvZDItLT48cGF0aCBkPSJNMzA2LjkwNiwyOTIuMzQ0IEwzMDcuMTg1NywyOTIuMzYxNiBMMzA1LjcxMjIsMzAyLjQ5NzMgTDMwNS44NzgzLDMxMi43MzY0IEwzMDUuNTEwNiwzMjIuOTQxOCBMMzAzLjM4NywzMzMuMDM2NSBMMzAzLjU5MDQsMzQzLjI3NzkgTDMwMi40ODM5LDM1My40MzY3IEwzMDIuNDA5LDM2My42NjA2ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIzMDIuMDg2LDM2OC43NzgsMzAyLjE0ODEsMzY4LjgxMDQsMzAyLjg3NTMsMzY2Ljk2OCwzMDMuOTY2NSwzNjUuMzE1NywzMDQuOTM5MiwzNjMuNjAxNCwzMDUuNTIyMSwzNjEuNjgzNiwzMDYuNjQ0NiwzNjAuMDQ3NiwzMDYuNjI3NCwzNjAuMDI4MiwzMDUuNzAxOCwzNjAuNjg5LDMwNC44NjI1LDM2MS40NDc4LDMwNC4wODMyLDM2Mi4yNzQ4LDMwMy4wOTcxLDM2Mi44NjcsMzAyLjQwMDcsMzYzLjc4NzksMzAyLjUzOTIsMzYzLjkwOTksMzAxLjQ5NSwzNjIuODAwMiwzMDAuODU1MSwzNjIuMDQ2OCwzMDAuMjY0NiwzNjEuMzM2OCwyOTkuMzg3LDM2MC4zNzM5LDI5OC42NjA0LDM1OS41NDQxLDI5OC42ODE4LDM1OS41NTIsMjk5LjMzNTYsMzYxLjM4NzIsMzAwLjA4NjQsMzYzLjI1ODMsMzAwLjc5MDUsMzY1LjExMjIsMzAxLjU4MzksMzY2Ljk5OTEsMzAyLjA4NiwzNjguNzc4IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs1MWVlZTc5YTJjNTFjN2JiYmE0MjA0NWVjYWJlYTkwM10KbGluayBpbmdyZXNzMSB0byBwb2QzLS0+PHBhdGggZD0iTTI3OC41NzUsMjkyLjEgTDI3OC43MTU4LDI5Mi4zNDIzIEwyNjkuODA3LDI5Ni41NTY2IEwyNjEuNzIzNywzMDIuMTkxMyBMMjUzLjM3MTYsMzA3LjM2MzUgTDI0NC4xMzU1LDMxMS4wMTQ2IEwyMzYuMDcwOSwzMTYuNjgxNyBMMjI3LjM0NjksMzIxLjIxMzkgTDIxOC44ODUzLDMyNi4xOTc3IEwyMTAuNjA2MSwzMzEuNDk1NSBMMjAxLjY5ODIsMzM1LjcxMTMgTDE5NC4wNDE5LDM0Mi4wODA4IEwxODQuNzU4MywzNDUuNjUwMiBMMTc2LjU1NzcsMzUxLjA4MzEgTDE2OC40ODkyLDM1Ni43NDMyIEwxNTkuNjUxOSwzNjEuMDgwNyBMMTUxLjIxOSwzNjYuMTEzOCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6ICM0Njc0OUY7IHN0cm9rZS13aWR0aDogMS4wOyIvPjxwb2x5Z29uIGZpbGw9IiM0Njc0OUYiIHBvaW50cz0iMTQ2LjQ1OSwzNjguODgwMSwxNDYuNDY2NiwzNjguOTQ5OCwxNDguNDAyMywzNjguNTI5OSwxNTAuMzgyNCwzNjguNTE4MywxNTIuMzQ4MSwzNjguMzczNywxNTQuMjY2MiwzNjcuNzkxOSwxNTYuMjUwMSwzNjcuODE1NCwxNTYuMjQzNSwzNjcuNzkwNCwxNTUuMTIwMSwzNjcuMzg4NCwxNTQuMDMwMSwzNjcuMTEyNiwxNTIuOTYzMywzNjYuOTI0NiwxNTEuODE2NCwzNjYuNDM0MiwxNTAuNzgxOCwzNjYuMzY3NCwxNTAuOTYwMiwzNjYuNDE0NiwxNTAuODY4MywzNjUuMjE5OSwxNTEuMjk3MiwzNjQuMTYzMiwxNTEuNzg5OCwzNjMuMTIzMiwxNTEuOTEyNSwzNjEuOTg1NCwxNTIuMjI5OCwzNjAuODk5LDE1Mi4yNDgyLDM2MC45MTIzLDE1MS4wNjcsMzYyLjQ4OSwxNDkuOTY5NywzNjQuMTI2MywxNDguODMxOSwzNjUuNzM0NCwxNDcuNzcxNCwzNjcuMzk4MywxNDYuNDU5LDM2OC44ODAxIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVsxYzA0NGY3OGRkNWViOWE2ZmNkZTg0OTFiMjZlZWU0YV0KbGluayBpbmdyZXNzMiB0byBwb2QxLS0+PHBhdGggZD0iTTE2Ni42MTIsMjkyLjEgTDE2Ni42OTcyLDI5Mi4zNjcgTDE3NS44ODE1LDI5NC41ODM5IEwxODUuNTY1MSwyOTguMzY2IEwxOTUuMDg2MSwzMDEuNjM4NCBMMjA0LjA3MjUsMzAzLjIzNDcgTDIxMy43Njc1LDMwNy4wNTI0IEwyMjMuMDYzNiwzMDkuNjE5NSBMMjMyLjUxODQsMzEyLjY4NDQgTDI0Mi4wODM2LDMxNi4wOTUyIEwyNTEuMjY4NSwzMTguMzEzNyBMMjYxLjIxMDMsMzIyLjkwNTQgTDI3MC4xNjgsMzI0LjQxMTcgTDI3OS43ODA3LDMyNy45NzE0IEwyODkuNDczMiwzMzEuNzgxNSBMMjk4LjcwMDgsMzM0LjEzNDEgTDMwOC4yMDA2LDMzNy4zMzk5IEwzMTcuNTk3NSwzNDAuMjIyOSBMMzI3LjEyMDEsMzQzLjUwMDQgTDMzNi41ODIxLDM0Ni41ODc3IEwzNDYuMTU5OSwzNTAuMDM4MSBMMzU1LjYzMTksMzUzLjE1NjcgTDM2NS4wNzI2LDM1Ni4xNzc0IEwzNzQuMzM4LDM1OC42NDgyIEwzODMuODYsMzYxLjkyMzkgTDM5My4zOTQxLDM2NS4yMzcyIEw0MDIuNTQ3LDM2Ny4zNTU0ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSI0MDcuNjEzLDM2OC45NzEyLDQwNy42NTk2LDM2OS4wMjM1LDQwNi4wNDk2LDM2Ny41NTg3LDQwNC43MTI2LDM2Ni40MDA3LDQwMy4yODY3LDM2NS4xNDI4LDQwMS41Njg0LDM2My41NTYzLDQwMC4yNTQ5LDM2Mi40MjQ2LDQwMC4yMzE4LDM2Mi40MTI3LDQwMC42NDc1LDM2My4zNjQ3LDQwMS4xNzkyLDM2NC4zNzY2LDQwMS43OTE1LDM2NS40MzAyLDQwMi4xMjU5LDM2Ni4zNDAyLDQwMi44NDk2LDM2Ny40NTEzLDQwMi45MzQzLDM2Ny42MTUyLDQwMS43NDc5LDM2Ny43ODM1LDQwMC44MDg3LDM2OC40MzA2LDM5OS44OTk3LDM2OS4xMzYxLDM5OC44MTUyLDM2OS41MDE3LDM5Ny44MjMsMzcwLjA0NiwzOTcuODI1NCwzNzAuMDY4NiwzOTkuNzc5OCwzNjkuODIwNSw0MDEuNzQ1NSwzNjkuNjc1Miw0MDMuNzA1NywzNjkuNDgwNCw0MDUuNjc2MywzNjkuMzgwMiw0MDcuNjEzLDM2OC45NzEyIiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48IS0tTUQ1PVs2MTlkNDBmZDk1ODMzMTNhZTlmNTRiMmEyMmU2ZDE2OF0KbGluayBpbmdyZXNzMiB0byBwb2QyLS0+PHBhdGggZD0iTTEzMy4wNzYsMjkyLjA5NyBMMTMzLjEzNDUsMjkyLjE2OTggTDEzNS43MzcxLDI5NC4xODM0IEwxMzguNjgyNiwyOTYuNjIzOCBMMTQxLjUxNjQsMjk4LjkyNTMgTDE0My45ODMsMzAwLjc2OTUgTDE0Ni45NTc5LDMwMy4yNDY3IEwxNDYuOTM2OCwzMDMuMjE5MyBMMTQ4LjQwMiwzMDQuMzAzMyBMMTQ5Ljk3MzgsMzA1LjUyNSBMMTUxLjYxOTYsMzA2Ljg0MjQgTDE1My4wMTAyLDMwNy44Mjk5IEwxNTQuNzU4MywzMDkuMjc5NSBMMTU0LjkwNTksMzA5LjQ3NjQgTDE1Ni4yMzU5LDMxMC4yODk2IEwxNTcuOTk2OCwzMTEuNjc3NSBMMTU5LjgxMDQsMzEzLjEzNTUgTDE2MS4zMTgsMzE0LjE4NTYgTDE2Mi45ODY1LDMxNS40NTAzIEwxNjMuMDA0MywzMTUuNDc0OCBMMTY0LjY4NzYsMzE2LjY3NTMgTDE2Ni40NTE5LDMxNy45ODc3IEwxNjguMTc3MSwzMTkuMjQ2MiBMMTY5Ljk3NjgsMzIwLjYwNzYgTDE3MS41MzM2LDMyMS42MzMzIEwxNzEuNzAzNSwzMjEuODc4NCBMMTczLjQ1NzEsMzIzLjA5NTMgTDE3NS4xMDEsMzI0LjE1NDIgTDE3Ni45MDUzLDMyNS40NDQ0IEwxNzguNzE3MiwzMjYuNzQ1NSBMMTgwLjI5MDgsMzI3LjcwMyBMMTgwLjExNDYsMzI3LjQzNTIgTDE4Mi4yMjgzLDMyOS4xMjEgTDE4My43NjE4LDMyOS45MjUyIEwxODUuNzM2MywzMzEuMzk5NiBMMTg3LjI1NjYsMzMyLjE4MzggTDE4OS4xNDkzLDMzMy41MzM3IEwxODkuMTMzMywzMzMuNTA3OCBMMTkxLjA5MjYsMzM0LjkwNzQgTDE5Mi42NzgyLDMzNS43MDE4IEwxOTQuNDg0MywzMzYuODUzMyBMMTk2LjMwODksMzM4LjAzNDggTDE5OCwzMzkgTDE5OC4wOTEsMzM5LjE2MTEgTDIwMC42ODkxLDM0MC41MTg0IEwyMDMuNDQyOCwzNDIuMTUwOSBMMjA1Ljk0NDgsMzQzLjMzODIgTDIwOC44MjIxLDM0NS4xODk2IEwyMTEuNDQ5OSwzNDYuNTk5NSBMMjExLjU2MTgsMzQ2LjgxNTkgTDIxNC4zMzc4LDM0OC4yMjA1IEwyMTcuMTY5MywzNDkuNzMyNSBMMjE5Ljc0MjksMzUwLjc0NTMgTDIyMi41MDU1LDM1Mi4xMjQgTDIyNS40MzU3LDM1My44MjcgTDIyNS4zMTYyLDM1My41NzgxIEwyMjguMjM2MSwzNTUuMTU0MSBMMjMxLjAyMTIsMzU2LjQ0OTcgTDIzNC4wMDE4LDM1OC4xNTIxIEwyMzYuNjQ4NywzNTkuMTU5OCBMMjM5LjQ5MzksMzYwLjU4MDUgTDIzOS40MzExLDM2MC40NDE1IEwyNDIuMjY5MSwzNjEuOTA4MyBMMjQ0LjgzODcsMzYyLjc4MTIgTDI0Ny41OTkxLDM2NC4wNzY1IEwyNTAuNTQ2NCwzNjUuNzg1IEwyNTMuMTYxLDM2Ni43NTc2ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIyNTguMTA0LDM2OC45MTA2LDI1OC4xNTU3LDM2OC45NTc5LDI1Ni42NzE1LDM2Ny4zNjUsMjU1LjQ5MDIsMzY2LjA0OTQsMjU0LjIxMDIsMzY0LjY0MzYsMjUyLjYwNiwzNjIuOTQwNiwyNTEuNDUwNiwzNjEuNjQ4OSwyNTEuNDI2NSwzNjEuNjM5NCwyNTEuNzMyMiwzNjIuNjQ5OCwyNTIuMTU5NSwzNjMuNzA4LDI1Mi42NzEyLDM2NC43OTk0LDI1Mi44OTE4LDM2NS43NzYzLDI1My41MjAxLDM2Ni45MTM2LDI1My41ODc2LDM2Ny4wODUzLDI1Mi4zOTAzLDM2Ny4xMzE5LDI1MS4zOTAxLDM2Ny42OCwyNTAuNDE0LDM2OC4yODkzLDI0OS4yOTc5LDM2OC41NDI1LDI0OC4yNTU0LDM2OC45ODMxLDI0OC4yNTU2LDM2OS4wMDU4LDI1MC4yMjUsMzY4Ljk1NzksMjUyLjE5NTMsMzY5LjAxMzYsMjU0LjE2NTEsMzY5LjAxOTMsMjU2LjEzNTcsMzY5LjEyMDMsMjU4LjEwNCwzNjguOTEwNiIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7Ii8+PCEtLU1ENT1bNjllOWM5OTYzYzNkYTFiNzNlZDRkNWVhZTE3N2I4OThdCmxpbmsgaW5ncmVzczIgdG8gcG9kMy0tPjxwYXRoIGQ9Ik0xMTMuNjI1LDI5Mi4zNDQgTDExMy45MDUxLDI5Mi4zNTQxIEwxMTMuNDQwMSwzMDIuNTEyMiBMMTE0LjYxNjgsMzEyLjcyOTUgTDExNS4yNTksMzIyLjkyNzQgTDExNC4xNDMsMzMzLjA2MjEgTDExNS4zNTcyLDM0My4yODA3IEwxMTUuMjU5NiwzNTMuNDUyIEwxMTYuMTk1LDM2My42NjA2ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTogIzQ2NzQ5Rjsgc3Ryb2tlLXdpZHRoOiAxLjA7IHN0cm9rZS1kYXNoYXJyYXk6IDcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzQ2NzQ5RiIgcG9pbnRzPSIxMTYuMzc5LDM2OC43NzgsMTE2LjQ0NCwzNjguODA0MSwxMTYuOTg1NSwzNjYuODk4OCwxMTcuOTA4LDM2NS4xNDY3LDExOC43MDY1LDM2My4zNDQ3LDExOS4wOTY5LDM2MS4zNzg3LDEyMC4wNTIyLDM1OS42Mzk3LDEyMC4wMzMyLDM1OS42MjIxLDExOS4xNzc0LDM2MC4zNzEyLDExOC40MTczLDM2MS4yMDkzLDExNy43MjM2LDM2Mi4xMDkyLDExNi44MDA4LDM2Mi43OTYsMTE2LjE5ODksMzYzLjc4MTIsMTE2LjMyNDYsMzYzLjkxNjQsMTE1LjIyNzUsMzYyLjg1NjgsMTE0LjQ5NzQsMzYyLjE5MTcsMTEzLjgxMiwzNjEuNTc0NywxMTIuODY2MiwzNjAuNjc3NywxMTIuMDU3NCwzNTkuOTI3OSwxMTIuMDc3OCwzNTkuOTM3OSwxMTIuOTEyMSwzNjEuNjkzMywxMTMuODM5NSwzNjMuNDk0MSwxMTQuNzIyLDM2NS4yNzMsMTE1LjY5MDEsMzY3LjA5MzcsMTE2LjM3OSwzNjguNzc4IiBzdHlsZT0ic3Ryb2tlOiAjNDY3NDlGOyBzdHJva2Utd2lkdGg6IDEuMDsiLz48L2c+PC9zdmc+" alt=""/>
</div>
</div>
<div class="paragraph">
<p>在前面我们介绍过IP层的session affinity往往是不可用的，利用 ingress-nginx 则可以基于cookie实现HTTP session affinity，这对于很多web应用都是必须的。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">kind: Ingress
metadata:
  annotations:
    nginx.ingress.kubernetes.io/affinity: cookie
    nginx.ingress.kubernetes.io/session-cookie-expires: "172800"
    nginx.ingress.kubernetes.io/session-cookie-max-age: "172800"
    nginx.ingress.kubernetes.io/session-cookie-name: route</code></pre>
</div>
</div>
<div class="paragraph">
<p>但在早期版本中，如果http请求没设置host头，sticky将无法启用，可以用initContainers修改lua脚本强制启用。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">initContainers:
  - name: init-runner-volume
    image: quay.io/kubernetes-ingress-controller/nginx-ingress-controller:0.25.0
    command: ["sh", "-c"]
    args:
      - |
        cp -r /etc/nginx/lua/* /etc/nginx/lua_custom
        sed -i '117s/false/true/' /etc/nginx/lua_custom/balancer/sticky.lua
    volumeMounts:
      - mountPath: /etc/nginx/lua_custom
        name: config</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_参考">参考</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a href="https://itnext.io/kubernetes-network-deep-dive-7492341e0ab5" class="bare">https://itnext.io/kubernetes-network-deep-dive-7492341e0ab5</a></p>
</li>
<li>
<p><a href="https://mauilion.dev/posts/kind-metallb/" class="bare">https://mauilion.dev/posts/kind-metallb/</a></p>
</li>
<li>
<p><a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-service">kubernetes debug-service</a></p>
</li>
<li>
<p><a href="https://www.stackrox.com/post/2020/01/kubernetes-networking-demystified/">Kubernetes Networking Demystified</a> 有张漂亮的图介绍了iptables在service层怎么转发的</p>
</li>
<li>
<p><a href="https://ieevee.com/tech/2019/06/30/metallb.html" class="bare">https://ieevee.com/tech/2019/06/30/metallb.html</a></p>
</li>
</ul>
</div>
</div>
</div>
    </article>
    <section class="comment">
        <div id="disqus_thread"></div>
    </section>
</section>
<footer class="footer">
    Copyright © 2021 | Powered by <a href="https://github.com/chenhm/java-static-blog" target="_blank">java-static-blog</a>
</footer>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js" integrity="sha256-Y+Budm2wBEjYjbH0qcJRmLuRBFpXd0VKxl6XhdS4hgA=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/keep-markup/prism-keep-markup.min.js" integrity="sha256-jHeLW+quLKoSpBFisYif0SQf9Z20AKgmKb2vcdWehJI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-ht8ay6ZTPZfuixYB99I5oRpCLsCq7Do2LjEYLwbe+X8=" crossorigin="anonymous"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-39495276-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-39495276-1');
</script>

</body>
</html>